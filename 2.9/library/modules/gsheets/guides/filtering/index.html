<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-library docs-doc-id-modules/gsheets/guides/filtering/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Google Sheets Filtering | Noodl</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.noodl.net/2.9/library/modules/gsheets/guides/filtering/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://docs.noodl.net/noodl-docs.png"><meta data-rh="true" name="google-site-verification" content="KjANYZkN8ymGFD0SGnAVlRkD85p-fpNHCRAOKxurpWI"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-library-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-library-current"><meta data-rh="true" property="og:title" content="Google Sheets Filtering | Noodl"><meta data-rh="true" name="description" content="What you will learn in this guide"><meta data-rh="true" property="og:description" content="What you will learn in this guide"><link data-rh="true" rel="icon" href="/2.9/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.noodl.net/2.9/library/modules/gsheets/guides/filtering/"><link data-rh="true" rel="alternate" href="https://docs.noodl.net/2.9/library/modules/gsheets/guides/filtering/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.noodl.net/2.9/library/modules/gsheets/guides/filtering/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://D29X2LNM4J-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Noodl" href="/2.9/opensearch.xml">





<link rel="alternate" type="application/json" href="/2.9/whats-new/feed.json" title="Noodl JSON Feed">

<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-P4LSJL4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><link rel="stylesheet" href="/2.9/assets/css/styles.2b19c828.css">
<link rel="preload" href="/2.9/assets/js/runtime~main.6470003b.js" as="script">
<link rel="preload" href="/2.9/assets/js/main.905a2dae.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/2.9/"><div class="navbar__logo"><img src="/2.9/img/logo.svg" alt="Noodl Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/2.9/img/logo.svg" alt="Noodl Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Docs</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/2.9/docs/learn">Learn</a><a class="navbar__item navbar__link" href="/2.9/nodes/overview">Node reference</a><a class="navbar__item navbar__link" href="/2.9/library/overview">Library</a><a class="navbar__item navbar__link has-divider" href="/2.9/javascript/overview">Javascript</a><a href="https://discord.com/invite/23xU2hYrSJ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link is-discord">Discord</a><a href="https://console.noodl.net/#/signup" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link is-download-button">Download</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><div class="search-bar-outer"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/2.9/library/modules/gsheets/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.9/library/modules/gsheets/guides/setting-up/">Setting up</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.9/library/modules/gsheets/guides/park-details/">Park Details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/2.9/library/modules/gsheets/guides/filtering/">Filtering</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Nodes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.9/library/modules/gsheets/node-docs/query-sheet/">Query Sheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.9/library/modules/gsheets/node-docs/query-sheet-aggregate/">Query Sheet Aggregate</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.9/library/modules/gsheets/node-docs/sheet-row/">Sheet Row</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/2.9/library/modules/gsheets/release-notes">Release Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/2.9/library/modules/overview">Back to modules</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="Root_noPZ"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Google Sheets Filtering</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-you-will-learn-in-this-guide">What you will learn in this guide<a href="#what-you-will-learn-in-this-guide" class="hash-link" aria-label="Direct link to What you will learn in this guide" title="Direct link to What you will learn in this guide">â€‹</a></h2><p>This guide will look at how we can apply filters to our Google Sheets data and use that in our example app.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">â€‹</a></h2><p>If you haven&#x27;t already followed the previous guides for the Google Sheets Module, it&#x27;s recommended to do that before starting this guide. You can find them <a href="/2.9/library/modules/gsheets/guides/filtering/library/modules/gsheets/guides/setting-up/">part 1 here</a> and <a href="/2.9/library/modules/gsheets/guides/park-details">part 2 here</a>.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/filter-view-969d0bfd67f045945e39bb02f972b584.png" width="2312" height="1744" class="img_ev3q"></p></div><p>We will go though the following steps:</p><ul><li>Creating a visual filter component.</li><li>Using the Query Sheet Aggregate node to pull out specific data from different columns in the Google Sheet and then use that data to populate a Dropdown node and Slider that will be used for filtering.</li><li>Creating filters on the Query Sheet node.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-the-visual-filters-component-and-adding-it-to-the-app-component">Creating the visual Filters component and adding it to the App component<a href="#creating-the-visual-filters-component-and-adding-it-to-the-app-component" class="hash-link" aria-label="Direct link to Creating the visual Filters component and adding it to the App component" title="Direct link to Creating the visual Filters component and adding it to the App component">â€‹</a></h2><p>Let&#x27;s first create a new visual component that we will call Filters.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/filter-comp-386fdd7c024204bb3bbf1147aff2d595.png" width="1162" height="700" class="img_ev3q"></p></div><p>To begin with we will style the Group node in the Filters component like this:</p><div class="ndl-image-with-background s"><p><img loading="lazy" src="/2.9/assets/images/filter-group-props-0fac7868bc15a983b4af6d6f6f59ed9e.png" width="558" height="1472" class="img_ev3q"></p></div><div class="ndl-image-with-background s"><p><img loading="lazy" src="/2.9/assets/images/filter-group-props-2-6d6b3013b03e27528a3d127f04e5b469.png" width="550" height="1840" class="img_ev3q"></p></div><p>We will soon get back to building out this component, but before we do that, let&#x27;s add some functionality and visuals in the App component so that we can bring up our Filter component. The first thing we will do is to add a Button. Let&#x27;s call it Filter Button.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/filter-button-fe3943d8442681ff784feef7841f139d.png" width="1686" height="966" class="img_ev3q"></p></div><p>Then let&#x27;s style the button. We will remove the label and use an icon for the button just like in the images below. It&#x27;s important that the Button&#x27;s Position property is set to Absolute. That way we get it to float on top of our Park Details view.</p><div class="ndl-image-with-background s"><p><img loading="lazy" src="/2.9/assets/images/filter-button-props-870e89ad0f6671ef9138a39ab2df49ea.png" width="576" height="1986" class="img_ev3q"></p></div><p>Now that we have a button, let&#x27;s add an area for our Filters component. Let&#x27;s add a Group like this:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/filter-group-add-929091490feeda850a90667c31c65ac6.png" width="1670" height="956" class="img_ev3q"></p></div><p>This Group has a bit of styling, and again it&#x27;s important that the Position is set to Absolute so that it will be on top of our Park Details. Here&#x27;s the actual styling for the Group.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/app-filter-group-props-7ac721779a78929a24acde3ee3992d79.png" width="564" height="1544" class="img_ev3q"></p></div><p>Let&#x27;s add our Filters component as a child to the Group. The visual node tree in the App component should now look like the first image below, and your preview should look something like the second image.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/app-tree-filters-4254f794418feb032fc773d8053a6c8c.png" width="1746" height="1070" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/preview-initial-filters-0d99ea44a38dad1013d914c2235834ad.png" width="2306" height="1760" class="img_ev3q"></p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hiding-and-showing-the-filters-component">Hiding and Showing the Filters component<a href="#hiding-and-showing-the-filters-component" class="hash-link" aria-label="Direct link to Hiding and Showing the Filters component" title="Direct link to Hiding and Showing the Filters component">â€‹</a></h2><p>We don&#x27;t want the Filters component to always be visible, it should only show when you click the Filter Button, and then if you click the Filter Button again, it should hide. We can easily add this functionality by using a Switch node, and hook it up like below:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/switch-da5fc2c00e1acce4b35450d261eb3c5a.png" width="1054" height="1150" class="img_ev3q"></p></div><p>Now, when you click on the Filter Button you should alternately hide and show the Filters component.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/show-hide-cef0e89c6b89f5f4543d560bb9b507bb.gif" width="2316" height="1768" class="img_ev3q"></p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="finishing-the-visuals-for-the-filters-component">Finishing the visuals for the Filters component<a href="#finishing-the-visuals-for-the-filters-component" class="hash-link" aria-label="Direct link to Finishing the visuals for the Filters component" title="Direct link to Finishing the visuals for the Filters component">â€‹</a></h2><p>Let&#x27;s select the Filters component again and finish building the visuals. The idea is that we should be able to filter the list of national parks based on which state they are in and/or what size they have. A Dropdown node would be a good pick for a UI element to select a state from, and to choose a size, a Slider node would be good to use. Add nodes to the Filters component so that you have a visual tree that looks like the image below. We will go through each node and it&#x27;s properties next.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/filters-visual-tree-052195af84a9e5126174015c99aa3106.png" width="616" height="780" class="img_ev3q"></p></div><p>The Dropdown node that we will use to select which state to filter on has been styled as below:</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/dropdown-props-2dd748582dec7fe2eda76bb89fe1d49d.png" width="570" height="1708" class="img_ev3q"></p></div><p>Next we have a Group node that holds two text nodes. The Group has been named Slider Info and it has the following styling:</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/slider-info-group-props-477d53da7a67ca742929c65cfb16f48f.png" width="558" height="1534" class="img_ev3q"></p></div><p>The two text nodes that follow have slightly different styling from each other. The first one is a Label for the Slider and it has the following styling:</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/slider-label-6ac9b8311ca14b986013d8f2e4958d53.png" width="560" height="1566" class="img_ev3q"></p></div><p>The second Text node that will hold the Current Slider Value looks like this:</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/slider-value-1297b3621bd9a6e8f5e5a4fe463766e0.png" width="546" height="1932" class="img_ev3q"></p></div><p>Lastly we have the Slider node where we have only changed the padding a bit:</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/slider-props-4abd3036d099b5275cf3cddbeb950bec.png" width="560" height="702" class="img_ev3q"></p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-query-sheet-aggregate-nodes-to-set-the-min-and-max-value-of-the-slider">Using Query Sheet Aggregate nodes to set the min and max value of the Slider<a href="#using-query-sheet-aggregate-nodes-to-set-the-min-and-max-value-of-the-slider" class="hash-link" aria-label="Direct link to Using Query Sheet Aggregate nodes to set the min and max value of the Slider" title="Direct link to Using Query Sheet Aggregate nodes to set the min and max value of the Slider">â€‹</a></h2><p>The Slider component will be used to set a number that we want to be between the smallest sized national park and the largest sized national park. In our Google Sheet we have a column for size so it would be cool if we could figure what the smallest and largest number is in this column. This is where the <a href="/2.9/library/modules/gsheets/node-docs/query-sheet-aggregate">Query Sheet Aggregate</a> node comes in. This node is used to do aggregate data queries on a column from a public Google Sheet which is exactly what we are after here.</p><p>Let&#x27;s first add a Query Sheet Aggregate node to our Filters component, and fill in the following properties:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/aggregate-1-bbab2fd133ea332821bfde9715a6c127.png" width="1004" height="780" class="img_ev3q"></p></div><p>As you can see we need to tell the node which Google Sheet document it should look at (Document Id: 1gjttBIT4bHGFS8ynF31DoYw143ZY3UAiwopAW0N97KQ) and which sheet in that document we are interested in. Once the node has that information it will present a list of all the columns that the specific sheet has. Here we want to pick the Size (km2) column, and then we can choose how we want to aggregate the data of that column. We want to set up a Slider with a minimum and maximum value, so let&#x27;s select Max to get the maximum value of the Size (km2) column.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/aggregate-column-choice-86000fefe586b1016707415a39e2d38a.png" width="558" height="632" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/aggregate-max-70f550716fb62dd0c5d5b0ad9b311237.png" width="966" height="814" class="img_ev3q"></p></div><p>Then we connect it to the Slider like this:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/aggregate-slider-connect-d8d4797ea74b2adf003cef41795168d3.png" width="1218" height="978" class="img_ev3q"></p></div><p>Now we need another Query Sheet Aggregate node to get the minimum value so let&#x27;s add one and set it&#x27;s properties as follows, and also hook it up as in the second image:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/aggregate-min-props-5c0f37e4b7426427f3466df38639becb.png" width="1076" height="810" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/aggregate-min-connected-e7ce9fbfc4d85485d389d915437bee07.png" width="1568" height="1104" class="img_ev3q"></p></div><p>Now the Slider has it&#x27;s min and max value set, so let&#x27;s now make sure that we show the current value of the slider in our Current Slider Value Text node. It would also be nice to show that the number is in km<sup>2</sup> so we will add a String Format node and set it up like this:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/aggregate-string-format-1a25bddb6b10857ffb36a3cc576bd0cd.png" width="558" height="412" class="img_ev3q"></p></div><p>Then let&#x27;s connect everything like this:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/current-slider-val-connection-587ae9caf38ddc2a2c669db74a840048.png" width="1674" height="1048" class="img_ev3q"></p></div><p>The reason we hook up the result from the Query Sheet Aggregate - Min Size, is so that we show the initial slider value when we first open up the Filters component. The Value output from the Slider only updates as we interact with the Slider so the initial value needs to be set from the Query Sheet Aggregate - Min Size.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-a-list-of-all-states">Getting a list of all states<a href="#getting-a-list-of-all-states" class="hash-link" aria-label="Direct link to Getting a list of all states" title="Direct link to Getting a list of all states">â€‹</a></h2><p>Now that we know how to use the Query Sheet Aggregate node, let&#x27;s use it again, to get a list of all states that are in our Google Sheet for US national parks. This time we will set the Aggregare property to unique which means the node will return an array of all the unique values from the states column.</p><p>?&gt; Note that some parks span two states, e.g. the Great Smoky Mountains are in both North Carolina and Tennessee. We have chosen to treat North Carolina, Tennessee as it&#x27;s own option in the states list. A different solution would be to have two entries for Great Smoky Mountains, one for each state it&#x27;s in.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/states-aggregate-2e4b16f6d2a4a66811bd48060ad19512.png" width="578" height="742" class="img_ev3q"></p></div><p>Let&#x27;s connect it to our Dropdown node, and then click on the Dropdown list in the preview.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/states-dropdown-connection-1-7efc0a2972617f71ef78c28179101e80.png" width="1548" height="1150" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/states-dropdown-preview-888fb4e9d749a5e7192e6d5c8c2ecffd.png" width="2398" height="1754" class="img_ev3q"></p></div><p>This looks pretty good, but there is one problem. There is no option for selecting All states which is the initial state of our list. To solve this, we need to add another option to the array of states.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-all-option-to-states-dropdown">Adding All option to states Dropdown<a href="#adding-all-option-to-states-dropdown" class="hash-link" aria-label="Direct link to Adding All option to states Dropdown" title="Direct link to Adding All option to states Dropdown">â€‹</a></h2><p>The result we get from the Query Sheet Aggregate - States is an array of items, so let&#x27;s create a new Array and call it AllStates and then connect the result from Query Sheet Aggregate - States to the Items input of the Array:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/allstates-array-af402f02d5f9fd95866cae611efec259.png" width="2204" height="1544" class="img_ev3q"></p></div><p>Next we want to use a Create New Object node to create a new object that we can then insert into the Array. Set up the Create New Object node like below and then we connect it like in the second image.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/new-object-3ab728ec762513f8583c8770d4ef9d65.png" width="558" height="936" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/new-object-connected-1cc88048f8776cbcf4246d62b173d7c4.png" width="1806" height="1698" class="img_ev3q"></p></div><p>Now that we have a new Object, we want to insert it into our Array and we do that with an Insert Object Into Array node. Connect everything like below:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/insert-new-object-connected-20bae5ecc47b3860a78a4d655231b9ef.png" width="1596" height="504" class="img_ev3q"></p></div><p>Our AllStates Array contains one extra option, the All option. Before we connect it to our Dropdown, let&#x27;s make sure that the Array is sorted alphabetically, so we will connect an Array Filter node like in the image below. Here it&#x27;s important that we use the Done signal from the Insert Object Into Array node, to tell the Array Filter to do the sorting, as that ensures that the All option is in the Array before we do the sorting.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/array-filter-9fb731292249e76ef6051a6f431ce02a.png" width="1766" height="912" class="img_ev3q"></p></div><p>The Array Filter node should sort on the Value property of the items in the array, and we can do that by setting it up like this:</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.9/assets/images/array-filter-props-c064f01058a13a010b250615aaa716e3.png" width="558" height="938" class="img_ev3q"></p></div><p>We could now make a connection from the Array Filter to the Dropdown, but as you can see the Filters component is getting quite big in terms of nodes.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/big-filters-226949b47422521190f0a0a5f280215c.png" width="2464" height="1786" class="img_ev3q"></p></div><p>Let&#x27;s turn the selected nodes below into it&#x27;s own Logic Component.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/cut-out-these-7fdc54316d7b8c593d88cc528c30c80b.png" width="2464" height="1786" class="img_ev3q"></p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-add-all-option-component">Creating Add All Option component<a href="#creating-add-all-option-component" class="hash-link" aria-label="Direct link to Creating Add All Option component" title="Direct link to Creating Add All Option component">â€‹</a></h2><p>From the Component Actions button, select Logic Component and name it Add All Option.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/logic-comp-cc6e38b543cb528e0265b9378a7073a4.png" width="732" height="606" class="img_ev3q"></p></div><p>Then from the Filters node, cut out the marked nodes and paste them into the Add All Option component (use standard keyboard shortcuts for cutting and pasting). It should now look like below.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/initial-add-all-5293abc0ab7d6b7d7fb947a6018326b8.png" width="2662" height="1210" class="img_ev3q"></p></div><p>Let&#x27;s add a port to the Component Inputs node that we call Items:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/input-port-5a6e8c3c3a871f9abd0689f0139ad6ce.png" width="1108" height="844" class="img_ev3q"></p></div><p>We also want to send out the sorted array, so let&#x27;s add a port on the Component Outputs node called Sorted Items.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/output-port-92399e78c4d6b2012dfa3f26a7f7033a.png" width="560" height="504" class="img_ev3q"></p></div><p>Now we just make the following connections.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/add-all-final-95f0eb979c93c23c2ad0e1673076840c.png" width="2642" height="1260" class="img_ev3q"></p></div><p>Back in the Filters component let&#x27;s add out newly create Add All Options node, and hook it up like this:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/add-all-in-filters-0e88197f6ee0103dfbbf83bee26a3b29.png" width="1938" height="1572" class="img_ev3q"></p></div><p>Now we have a nice Dropdown with our All option as well.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/dropdown-all-32234dfe6527f20a60b047254a51805d.png" width="2034" height="1756" class="img_ev3q"></p></div>Only problem is there is no initial value set in the Dropdown.<div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/dd-initial-value-7f6607a1987f1787621fee6794043f88.png" width="2274" height="1746" class="img_ev3q"></p></div><p>We can easily fix that but adding a String node and giving it the value &quot;A&quot; and then connecting it like the image below:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/dd-final-b2cd1cd421201b00884c63626ff511bd.png" width="2502" height="1576" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/dd-final-preview-876eef68e537b2d9e8ed801b2bba15b6.png" width="2046" height="1758" class="img_ev3q"></p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-filters">Adding filters.<a href="#adding-filters" class="hash-link" aria-label="Direct link to Adding filters." title="Direct link to Adding filters.">â€‹</a></h2><p>All of our visuals are now set up. All that is missing are the actual filters. Let&#x27;s work on those now.</p><p>First let&#x27;s add a new Logic Component that we call State and Size Filter.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/state-size-filter-comp-ee5a74dfb9caab41c09a2e0cb2ea6961.png" width="2582" height="1046" class="img_ev3q"></p></div><p>Add two ports to the Component Inputs node called Selected State and Size. You can also delete the Component Outputs node, we won&#x27;t need that.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/state-size-filter-inputs-1db5e4d598fb3249cff35d470346a0eb.png" width="1144" height="452" class="img_ev3q"></p></div><p>Jump back to the Filters component and add the State and Size Filter component and hook it up like this:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/state-size-filter-in-filters-aca99458ad0cde537d85c66dbd354fb1.png" width="2608" height="1694" class="img_ev3q"></p></div><p>Now, we head back to the State and Size Filter component. Let&#x27;s first make a filter for Size. We will add a Query Sheet node, and set it up like this.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/query-sheet-size-filter-b0186ca6df2a86fe30c336c2b17942fc.png" width="566" height="924" class="img_ev3q"></p></div><p>The Query Sheet node has a very nice visual filter builder so click here to add a filter:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/add-filter-db590ff9a9cebcf7a4d44bb3f3b1b6c3.png" width="556" height="200" class="img_ev3q"></p></div><p>Then let&#x27;s build out our filter using the visual builder. The following images show you each step. T</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/build-filter-1-69d4566c4e7bf9ec89f66c56155098b8.png" width="952" height="304" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/build-filter-2-0d42e72bd01124c765fbf298343b864e.png" width="1280" height="302" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/build-filter-3-52a1f03fc2367bb8c69f3ead6c99bd84.png" width="1722" height="336" class="img_ev3q"></p></div><p>In this final step it&#x27;s important to change the Value to Input, and then you can change the MyInput to a better name, like Size for instance.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/build-filter-4-6e81ab50f7297a3ce36690f58402b3af.png" width="1758" height="400" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/build-filter-5-2bfe4c428a4ad8d0f862e74f2f41fdc7.png" width="1736" height="292" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/build-filter-6-23331f86575d298511748130956171d9.png" width="1734" height="374" class="img_ev3q"></p></div><p>We are going to add one more Query Sheet node, and this one we will call Query Sheet State and Size Filter. Then add two filters to it so the final properties for it looks like this:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/state-size-filter-props-1-27cca0ef49ae6a8b303c42e6de88d372.png" width="1588" height="1270" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/state-size-filter-props-2-6ac6636fdcf8aa7555bd65e40699aaad.png" width="1674" height="1260" class="img_ev3q"></p></div><p>Next, we want to take the output from our Query Sheet nodes and hook them up to the Array node with the id Parks. If you remember from the previous guides, we are using this Array to feed the Repeater node that creates our list. If the Array is updated or changed, the Repeater node will automatically rerender, so everytime we get a new result from our filter nodes the list will update.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/query-sheet-to-arrays-dc2332b4dd4331167382a7d796ed78d3.png" width="1180" height="782" class="img_ev3q"></p></div><p>So why did we create two Query Sheet nodes with two different filters. It&#x27;s so that we can handle the case when we choose All as the option in the Dropdown list. All is not a state that exists in our sheet, so the filter that is looking at both state and size will fail everytime we feed A into it. So to handle this we will use an expression in combination with a condition node to check if we are looking at all states, in which case we will just filter on size, or if we have selected a specific state, then we can filter on both state and size. The images below first show the expression in the Expression node, and the second image shows how everything should be connected.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/expression-props-e7ecf7bf4869b96ccfe23ed6647bc76d.png" width="1946" height="1000" class="img_ev3q"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.9/assets/images/final-node-tree-5d5ef880641f71bece9aae81cd391d6f.png" width="1992" height="916" class="img_ev3q"></p></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">â€‹</a></h2><p>In this guide we added filters to our National Parks and used the Query Sheets Aggregate nodes. Hope you enjoyed it, and you can import the final project by clicking the &quot;Import&quot; button below and follow the instructions.</p><div class="ndl-image-with-background l"><img loading="lazy" src="/2.9/modues/gsheets/guides/filtering/filter-final-preview.gif" class="ndl-image small img_ev3q"><button class="ndl-import-button"></button></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/2.9/library/modules/gsheets/guides/park-details/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Park Details View</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/2.9/library/modules/gsheets/node-docs/query-sheet/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Query Sheet</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-you-will-learn-in-this-guide" class="table-of-contents__link toc-highlight">What you will learn in this guide</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#creating-the-visual-filters-component-and-adding-it-to-the-app-component" class="table-of-contents__link toc-highlight">Creating the visual Filters component and adding it to the App component</a></li><li><a href="#hiding-and-showing-the-filters-component" class="table-of-contents__link toc-highlight">Hiding and Showing the Filters component</a></li><li><a href="#finishing-the-visuals-for-the-filters-component" class="table-of-contents__link toc-highlight">Finishing the visuals for the Filters component</a></li><li><a href="#using-query-sheet-aggregate-nodes-to-set-the-min-and-max-value-of-the-slider" class="table-of-contents__link toc-highlight">Using Query Sheet Aggregate nodes to set the min and max value of the Slider</a></li><li><a href="#getting-a-list-of-all-states" class="table-of-contents__link toc-highlight">Getting a list of all states</a></li><li><a href="#adding-all-option-to-states-dropdown" class="table-of-contents__link toc-highlight">Adding All option to states Dropdown</a></li><li><a href="#creating-add-all-option-component" class="table-of-contents__link toc-highlight">Creating Add All Option component</a></li><li><a href="#adding-filters" class="table-of-contents__link toc-highlight">Adding filters.</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li></ul></div></div></div></div></div></main></div></div></div>
<script src="/2.9/assets/js/runtime~main.6470003b.js"></script>
<script src="/2.9/assets/js/main.905a2dae.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P4LSJL4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>
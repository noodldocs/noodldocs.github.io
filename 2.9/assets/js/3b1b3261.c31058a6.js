"use strict";(self.webpackChunknoodl_docs=self.webpackChunknoodl_docs||[]).push([[8647],{3905:(e,t,a)=>{a.d(t,{Zo:()=>l,kt:()=>b});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),u=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},l=function(e){var t=u(e.components);return n.createElement(i.Provider,{value:t},e.children)},c="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,s=e.originalType,i=e.parentName,l=p(e,["components","mdxType","originalType","parentName"]),c=u(a),d=r,b=c["".concat(i,".").concat(d)]||c[d]||m[d]||s;return a?n.createElement(b,o(o({ref:t},l),{},{components:a})):n.createElement(b,o({ref:t},l))}));function b(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=a.length,o=new Array(s);o[0]=d;var p={};for(var i in t)hasOwnProperty.call(t,i)&&(p[i]=t[i]);p.originalType=e,p[c]="string"==typeof e?e:r,o[1]=p;for(var u=2;u<s;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},43805:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>m,frontMatter:()=>s,metadata:()=>p,toc:()=>u});var n=a(87462),r=(a(67294),a(3905));const s={title:"Supabase",hide_title:!0},o="Supabase",p={unversionedId:"prefabs/supabase/README",id:"prefabs/supabase/README",title:"Supabase",description:"This prefab gives you a few components that allows you to connect to Supabase and manage user authentication.",source:"@site/library/prefabs/supabase/README.md",sourceDirName:"prefabs/supabase",slug:"/prefabs/supabase/",permalink:"/2.9/library/prefabs/supabase/",draft:!1,tags:[],version:"current",frontMatter:{title:"Supabase",hide_title:!0},sidebar:"SupabaseSidebar",next:{title:"Setup Client",permalink:"/2.9/library/prefabs/supabase/components/setup-client/"}},i={},u=[{value:"Included components",id:"included-components",level:2},{value:"Base Components",id:"base-components",level:3},{value:"User Components",id:"user-components",level:3},{value:"Pages",id:"pages",level:3},{value:"Quickstart",id:"quickstart",level:2}],l={toc:u},c="wrapper";function m(e){let{components:t,...s}=e;return(0,r.kt)(c,(0,n.Z)({},l,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"supabase"},"Supabase"),(0,r.kt)("p",null,"This prefab gives you a few components that allows you to connect to Supabase and manage user authentication."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"This prefab is built by ",(0,r.kt)("a",{parentName:"p",href:"https://twitter.com/gmaison"},"Guillaume Maison")," and ",(0,r.kt)("a",{parentName:"p",href:"https://twitter.com/RicoTrevisan"},"Rico Trevisan"),". Please show them some love if you find this prefab useful.")),(0,r.kt)("div",{className:"ndl-image-with-background l"},(0,r.kt)("p",null,(0,r.kt)("img",{src:a(55547).Z,width:"680",height:"384"}))),(0,r.kt)("h2",{id:"included-components"},"Included components"),(0,r.kt)("h3",{id:"base-components"},"Base Components"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/setup-client/"},"Supabase - Setup Client")),": Sets up the Supabse SDK client to access your supabase instance. Must be placed in your projects home component."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-request-example/"},"Supabase - Example Request")),": An example on how to fetch data from a table in Supabase.")),(0,r.kt)("h3",{id:"user-components"},"User Components"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-sign-up/"},"Supabase \u2013 Sign Up")),": Signs up a new user."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-log-in/"},"Supabase \u2013 Log In")),": Logs in a user."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-log-out/"},"Supabase \u2013 Log Out")),": Logs out a user."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-send-password-reset/"},"Supabase \u2013 Send Password Reset")),": Sends a link to reset user password."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-send-magic-link/"},"Supabase \u2013 Send Magic Link")),": Sends a login link without password."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-resend-confirmation/"},"Supabase \u2013 Resend Confirmation")),": Resend a signup confirmation email when validating sign up by email"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-fetch-current-user-auth/"},"Supabase \u2013 Fetch Current User Auth")),": Retrieves the auth data of the currently logged in user and saves it to a global ",(0,r.kt)("inlineCode",{parentName:"li"},"currentUser")," object."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-fetch-current-user-profile-data/"},"Supabase \u2013 Fetch Current User Profile Data")),": Retrieves the non-auth user data of the currently logged in user and saves it to a global ",(0,r.kt)("inlineCode",{parentName:"li"},"currentUser")," object."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-update-current-user-auth/"},"Supabase \u2013 Update Current User Auth")),": Updates auth data for the currently logged in user, both in Supabase and the ",(0,r.kt)("inlineCode",{parentName:"li"},"currentUser")," object."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-update-current-user-profile-data/"},"Supabase \u2013 Update Current User Profile Data")),": Updates user data for the currently logged in user, both in Supabase and the ",(0,r.kt)("inlineCode",{parentName:"li"},"currentUser")," object.")),(0,r.kt)("h3",{id:"pages"},"Pages"),(0,r.kt)("p",null,"You will also find a couple of pages that allow you to quickly get up and running with all user features.\nSet the ",(0,r.kt)("inlineCode",{parentName:"p"},"Supabase Example App Root")," as your home component for a quick start on all routing."),(0,r.kt)("h2",{id:"quickstart"},"Quickstart"),(0,r.kt)("p",null,"First, drop a ",(0,r.kt)("strong",{parentName:"p"},"Supabase \u2013 Setup Client")," in your project home component and input your ",(0,r.kt)("inlineCode",{parentName:"p"},"Supabase URL")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Supabase Anon Key")," in its Property Panel. Then, open the ",(0,r.kt)("strong",{parentName:"p"},"Projects Settings")," sidebar and find the ",(0,r.kt)("inlineCode",{parentName:"p"},"Head Code")," input. Add the following at the top:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-html"},"<script type=\"module\">\n  import { createClient } from 'https://esm.sh/@supabase/supabase-js@2.22.0';\n\n  window.createClient = createClient;\n<\/script>\n")),(0,r.kt)("p",null,"Lastly, you need to connect the ",(0,r.kt)("inlineCode",{parentName:"p"},"Did Mount")," output of your root Group node to the ",(0,r.kt)("inlineCode",{parentName:"p"},"Do")," input of the ",(0,r.kt)("inlineCode",{parentName:"p"},"Supabase - Setup Client")," like so:"),(0,r.kt)("div",{className:"ndl-image-with-background l"},(0,r.kt)("p",null,(0,r.kt)("img",{src:a(12835).Z,width:"876",height:"656"}))),(0,r.kt)("p",null,"This will set everything up and allow you to use all of the other Supabase components."),(0,r.kt)("p",null,"You can use an ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/nodes/data/object/object-node"},"Object"))," node set to the id ",(0,r.kt)("inlineCode",{parentName:"p"},"currentUser")," to get all the user data (if a user is logged in)."),(0,r.kt)("p",null,"You can use the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-update-current-user-auth/"},"Supabase \u2013 Fetch Current User Auth"))," component to check if the user is logged in. If the user is already authenticated from a previous session, this session is retrieved, the user is considered logged in, and the component outputs ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," on its ",(0,r.kt)("inlineCode",{parentName:"p"},"Logged In")," output and in the ",(0,r.kt)("inlineCode",{parentName:"p"},"currentUser")," Noodl object."),(0,r.kt)("p",null,"Use the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"/2.9/library/prefabs/supabase/components/supabase-update-current-user-profile-data/"},"Supabase - Fetch Current User Profile Data"))," to trigger a data fetch and refresh the non-auth data in the ",(0,r.kt)("inlineCode",{parentName:"p"},"currentUser")," object."))}m.isMDXComponent=!0},12835:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/setup-2522a4fd5505d7607835dab42e339262.png"},55547:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/thumb-482e9d6fff2db0af7ec052ddd85e66b0.png"}}]);
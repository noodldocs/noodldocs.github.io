"use strict";(self.webpackChunknoodl_docs=self.webpackChunknoodl_docs||[]).push([[6062],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>y});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=o.createContext({}),p=function(e){var t=o.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=p(e.components);return o.createElement(c.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=a,y=u["".concat(c,".").concat(m)]||u[m]||d[m]||r;return n?o.createElement(y,i(i({ref:t},s),{},{components:n})):o.createElement(y,i({ref:t},s))}));function y(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l[u]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},12579:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var o=n(87462),a=(n(67294),n(3905));const r={hide_title:!0,hide_table_of_contents:!0,title:"Create a Visual node with React"},i="Create a Visual node with React",l={unversionedId:"extending/create-react-lib",id:"extending/create-react-lib",title:"Create a Visual node with React",description:"Noodl is built with React which makes it easy for you to add custom or community React components to your workspace. This guide will help you create a React library from scratch and push it to your Noodl workspace.",source:"@site/javascript/extending/create-react-lib.md",sourceDirName:"extending",slug:"/extending/create-react-lib",permalink:"/2.9/javascript/extending/create-react-lib",draft:!1,tags:[],version:"current",frontMatter:{hide_title:!0,hide_table_of_contents:!0,title:"Create a Visual node with React"},sidebar:"apiSidebar",previous:{title:"Create a new core node",permalink:"/2.9/javascript/extending/create-lib"}},c={},p=[{value:"Setup",id:"setup",level:2},{value:"A tour of the code",id:"a-tour-of-the-code",level:2}],s={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,a.kt)(u,(0,o.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"create-a-visual-node-with-react"},"Create a Visual node with React"),(0,a.kt)("p",null,"Noodl is built with React which makes it easy for you to add custom or community React components to your workspace. This guide will help you create a React library from scratch and push it to your Noodl workspace."),(0,a.kt)("h2",{id:"setup"},"Setup"),(0,a.kt)("p",null,"In order to complete this guide you must install the ",(0,a.kt)("em",{parentName:"p"},"Noodl CLI")," and learn how to push the module to your workspace. Please review ",(0,a.kt)("a",{parentName:"p",href:"/javascript/extending/create-lib"},"this guide")," first."),(0,a.kt)("p",null,"With the CLI tool you can easily create a new react library module from a template:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"noodl-cli new react-lib ./my-react-lib\n")),(0,a.kt)("p",null,"You need to specify a directory name that will be created. The directory will contain everything you need to get started. Using the command above, the directory ",(0,a.kt)("em",{parentName:"p"},"my-react-lib")," will be created."),(0,a.kt)("p",null,"The newly created directory has the following structure:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"my-react-lib/\n    module/\n    project/\n    tests/\n    icon.png\n    module.json\n")),(0,a.kt)("p",null,"Just like in the introductory ",(0,a.kt)("a",{parentName:"p",href:"/javascript/extending/create-lib"},"guide")," the folder contains the ",(0,a.kt)("strong",{parentName:"p"},"project")," and ",(0,a.kt)("strong",{parentName:"p"},"tests")," subfolders that you may to import into Noodl. Especially the ",(0,a.kt)("strong",{parentName:"p"},"tests")," folder is a good place to play around with your library and create tests to make sure the component is working as expected."),(0,a.kt)("admonition",{type:"note"},(0,a.kt)("p",{parentName:"admonition"},"It is important that you do not change the name of the ",(0,a.kt)("strong",{parentName:"p"},"project")," and ",(0,a.kt)("strong",{parentName:"p"},"tests")," folders. The build scripts in the ",(0,a.kt)("em",{parentName:"p"},"module")," folder is dependent on these names or it will not build the module properly and you cannot push to your workspace.")),(0,a.kt)("h2",{id:"a-tour-of-the-code"},"A tour of the code"),(0,a.kt)("p",null,"Now you have created a new React library module from the template and you have pushed it to your Noodl workspace. Let's review the code a bit to get you up and running."),(0,a.kt)("p",null,"The react code can be found in the ",(0,a.kt)("strong",{parentName:"p"},"module")," directory."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"my-react-lib/\n    module/\n        src/\n            index.js\n        assets/\n            manifest.json\n        package.json\n        webpack.config.js\n    project/\n        ...\n")),(0,a.kt)("p",null,"Open ",(0,a.kt)("em",{parentName:"p"},"index.js")," in your favorite editor. This file contains a simple React component and its export to Noodl. Each component that you want to be exposed in Noodl as a visual component, must be exported."),(0,a.kt)("p",null,"First a simple React component:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"function MyCustomReactComponent(props) {\n    const style = {\n        color: props.textColor,\n        backgroundColor: props.backgroundColor,\n        borderRadius: '10px',\n        padding: '20px',\n        marginBottom: props.marginBottom,\n    }\n\n    return (\n        <div style={style} onClick={props.onClick}>\n            {props.children}\n        </div>\n    )\n}\n")),(0,a.kt)("p",null,"Next the export of the component to Noodl:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const MyCustomReactComponentNode = Noodl.defineReactNode({\n    name: 'Custom React Component',\n    category: 'Tutorial',\n    getReactComponent() {\n        return MyCustomReactComponent\n    },\n    inputProps: {\n        backgroundColor: { type: 'color', default: 'white' },\n        marginBottom: {\n            type: { name: 'number', units: ['px'], defaultUnit: 'px' },\n            default: 10,\n        },\n    },\n    outputProps: {\n        onClick: { type: 'signal', displayName: 'Click' },\n    },\n})\n")),(0,a.kt)("p",null,"In addition to how you would specify a simple Noodl node, as in the introductory ",(0,a.kt)("a",{parentName:"p",href:"/javascript/extending/create-lib"},"guide"),", you must provide the ",(0,a.kt)("em",{parentName:"p"},"getReactComponent")," function that retuns the React component. You may also specify ",(0,a.kt)("em",{parentName:"p"},"inputProps")," and ",(0,a.kt)("em",{parentName:"p"},"outputProps")," that map to the properties of the React node and will become inputs and outputs of your Noodl node."),(0,a.kt)("p",null,"Outputs in React are typically done via callbacks. You can capture these callbacks and deliver them as outputs in Noodl."),(0,a.kt)("p",null,"Finally the component is provided as part of your module declaration. Here you need to put it under the ",(0,a.kt)("em",{parentName:"p"},"reactNodes")," section to make sure Noodl recognises it as a visual node."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"Noodl.defineModule({\n    reactNodes: [MyCustomReactComponentNode],\n    nodes: [],\n    setup() {\n        //this is called once on startup\n    },\n})\n")))}d.isMDXComponent=!0}}]);
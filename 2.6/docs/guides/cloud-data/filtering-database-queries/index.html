<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-guides/cloud-data/filtering-database-queries">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Filtering Database Queries | Noodl</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.noodl.net/2.6/docs/guides/cloud-data/filtering-database-queries"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Filtering Database Queries | Noodl"><meta data-rh="true" name="description" content="What you will learn in this guide"><meta data-rh="true" property="og:description" content="What you will learn in this guide"><link data-rh="true" rel="icon" href="/2.6/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.noodl.net/2.6/docs/guides/cloud-data/filtering-database-queries"><link data-rh="true" rel="alternate" href="https://docs.noodl.net/2.6/docs/guides/cloud-data/filtering-database-queries" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.noodl.net/2.6/docs/guides/cloud-data/filtering-database-queries" hreflang="x-default"><link rel="stylesheet" href="/2.6/assets/css/styles.dba27693.css">
<link rel="preload" href="/2.6/assets/js/runtime~main.ff1c37fa.js" as="script">
<link rel="preload" href="/2.6/assets/js/main.d7aa14f7.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/2.6/"><div class="navbar__logo"><img src="/2.6/img/logo.svg" alt="Noodl Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/2.6/img/logo.svg" alt="Noodl Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Docs</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/2.6/docs/getting-started/overview">Learn</a><a class="navbar__item navbar__link" href="/2.6/nodes/overview">Node reference</a><a class="navbar__item navbar__link" href="/2.6/library/overview">Library</a><a class="navbar__item navbar__link has-divider" href="/2.6/javascript/overview">Javascript</a><a href="https://forum.noodl.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forum</a><a href="https://discord.com/invite/23xU2hYrSJ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link is-discord">Discord</a><a href="https://console.noodl.net/#/signup" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link is-download-button">Download</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/2.6/docs/getting-started/overview">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/2.6/docs/guides/user-interfaces/overview">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/2.6/docs/guides/user-interfaces/overview">Building User Interfaces</a><button aria-label="Toggle the collapsible sidebar category &#x27;Building User Interfaces&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/2.6/docs/guides/data/overview">Working with data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Working with data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/2.6/docs/guides/navigation/overview">Navigation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Navigation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/2.6/docs/guides/cloud-data/overview">Working with cloud data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Working with cloud data&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2.6/docs/guides/cloud-data/creating-a-backend">Creating a backend</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2.6/docs/guides/cloud-data/creating-a-class">Creating a class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2.6/docs/guides/cloud-data/creating-new-database-records">Creating new database records</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2.6/docs/guides/cloud-data/quering-records-from-database">Quering records from database</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2.6/docs/guides/cloud-data/updating-records">Updating records</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/2.6/docs/guides/cloud-data/filtering-database-queries">Filter database queries</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2.6/docs/guides/cloud-data/record-relations">Record relations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/2.6/docs/guides/cloud-data/access-control">Access Control</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/2.6/docs/guides/business-logic/overview">Building business logic</a><button aria-label="Toggle the collapsible sidebar category &#x27;Building business logic&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/2.6/docs/guides/deploy/overview">Deploying and hosting apps</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deploying and hosting apps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/2.6/docs/build-alongs/overview">Build Along Videos</a><button aria-label="Toggle the collapsible sidebar category &#x27;Build Along Videos&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="Root_noPZ"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Filtering Database Queries</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-you-will-learn-in-this-guide">What you will learn in this guide<a class="hash-link" href="#what-you-will-learn-in-this-guide" title="Direct link to heading">​</a></h2><p>In this guide you will learn how to let your database make a filtered query of your <strong>Records</strong>. This is a very common task in apps. For example if you want to see all comments related only to one specific post, or all messages that are unread. This is achieved by querying the database and ask it to filter out only the selected results.</p><p>In Noodl you use the <a href="/2.6/nodes/data/cloud-data/query-records">Query Records</a> node to make a filtered query.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p>We will go through the following steps in this guide</p><ul><li>Query the Database for <strong>Records</strong> with a property equal to a specified value</li><li>Make a dynamic filter, i.e. where the Qurey filter can change dynamically</li></ul><p>To get most out of this guide, it&#x27;s best that you are already familiar with how to set up a cloud backend, create <strong>Classes</strong> and <strong>Records</strong> and make basic queries. You can quickly learn that by going through the following guides:</p><ul><li><a href="/2.6/docs/guides/cloud-data/creating-a-backend">Creating a Backend</a></li><li><a href="/2.6/docs/guides/cloud-data/creating-a-class">Creating a Class</a></li><li><a href="/2.6/docs/guides/cloud-data/creating-new-database-records">Creating Records</a></li><li><a href="/2.6/docs/guides/cloud-data/quering-records-from-database">Query Records</a></li><li><a href="/2.6/docs/guides/cloud-data/updating-records">Update Records</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="filtering-records-in-the-cloud-vs-locally">Filtering Records in the Cloud vs Locally<a class="hash-link" href="#filtering-records-in-the-cloud-vs-locally" title="Direct link to heading">​</a></h2><p>This guide is focusing in on filtering Queries in the Cloud Database. This means that <strong>Records</strong> and filtered before they are sent to your app over the network. This is what the <a href="/2.6/nodes/data/cloud-data/query-records">Query Records</a> node does.</p><p>There is also another node, <a href="/2.6/nodes/data/cloud-data/filter-records">Filter Records</a>, that filters data <em>that is already in the app</em>, i.e. it filters locally.</p><p>Both of these have their advantages and disadvantages and in a good app you often mix them.</p><p>Filtering in a Query in the Database (using <strong>Query Records</strong>) have the following advantages</p><ul><li><p>You only send the filtered out <strong>Records</strong> over the network. This is incredibly important if you are working with large data sets. If you have thousands of products in a database, you only want to send the products that the user is searching for or your app will be slow.</p></li><li><p>You can make use of optimized indexes in the Database if you for example are sorting or filtering out only certain objects. Again, if you work with large data sets with thousands or millions of <strong>Records</strong> this is key to make your app fast.</p></li></ul><p>Filtering a Query locally (using <strong>Filter Records</strong>) have these main advantages</p><ul><li><p>Once the <strong>Records</strong> are in the app, you don&#x27;t need to send <strong>Records</strong> over the network which makes your app much faster.</p></li><li><p>If you have many users of your app your Backend and Database may be congested. By avoiding Querying the Cloud Database too often, for example by handling data locally, you put less stress on it.</p></li></ul><p>Often, the most optimal solution is to combine the two methods. Make a Filtered Query towards the database that filters down the amount of <strong>Records</strong> to be sent to the app to a reasonable number, then use <strong>Filter Records</strong> for additional filtering and sorting locally.</p><p>In this guide, we will specifically look at filtering using the <strong>Query Records</strong> node. The <strong>Filter Records</strong> node works in a very similar fashion but only works on <strong>Arrays</strong> of <strong>Records</strong> that are already in the App, typically coming from a <strong>Query Records</strong> node.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="using-the-query-records-node-for-filtering">Using the Query Records node for filtering<a class="hash-link" href="#using-the-query-records-node-for-filtering" title="Direct link to heading">​</a></h2><p>This guide assumes that you already have a Backend up and running, with at least one Class containing a number of <strong>Records</strong>. You can follow the previous &quot;Working With Cloud Data&quot; guides if you need help with that. As an example we will use a simple Task app created in the previous guides. It has one <strong>Class</strong> called <code>Task</code>. It has two properties, <code>task</code> which is a description of the task, and <code>isDone</code> a boolean that keeps track of if the task is completed or not.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.6/assets/images/checkbox-anim-107998061ed9bf7d0dc303cf5dc13368.gif" width="561" height="315" class="img_E7b_"></p></div><p>The App consists of a main screen as below:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.6/assets/images/orig-app-6ee1e0c22666eef01f9eb3b00cf21938.png" width="1415" height="522" class="img_E7b_"></p></div><p>Each todo <strong>Record</strong> is represented by a list item constructed as below:</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.6/assets/images/list-item-2-3f1b8bdbe501c3d7c468136a044f5eed.png" width="1730" height="790" class="img_E7b_"></p></div><p>Now we want to add a filter to only see the uncompleted tasks. Click on the <strong>Query Records</strong> node in the main screen. Then click the <code>Add Filter Rule</code> button.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.6/assets/images/add-filter-rule-1-8f33856e8e49a9a933f51902ce6fd41d.png" width="780" height="1060" class="img_E7b_"></p></div><p>A new popup will appear where you can construct your filter. Feel free to play around a little with it.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.6/assets/images/add-filter-rule-2-7d1155c0991e6e7f31188da7c6a38c9a.png" width="1285" height="1157" class="img_E7b_"></p></div><p>It basically has three parts:</p><p><code>&lt;property&gt; &lt;operator&gt; &lt;value or input&gt;</code></p><p>The <code>&lt;property&gt;</code> is a property of your <strong>Record</strong>, for example <code>isDone</code> in our Task example.</p><p>The <code>&lt;operator&gt;</code> is a logical operator for the condition. There are a number of different operators and not all operators are available for all types of properties.
For the case of <code>isDone</code> - a <strong>boolean</strong> there are for operators available: <code>equal to</code>, <code>not equal to</code>, <code>exists</code> and <code>not exists</code>. While the <code>equal to</code> / <code>not equal to</code> are pretty self explanatory, the <code>exists</code> / <code>not exists</code> operators work in the following way: They check whether there is a value set at all for the property, or if it&#x27;s undefined.</p><p>Finally the <code>&lt;value or input&gt;</code> is the value that the operator should be applied to. The <code>&lt;input&gt;</code> option we will look at later, so let&#x27;s use <code>&lt;value&gt;</code> for now.</p><p>In our case we want to filter out only the tasks that are not yet completed, i.e with <code>isDone = false</code>. So our filter will be:</p><p><code>&lt;isDone&gt; &lt;equal to&gt; &lt;false&gt;</code></p><p>Let&#x27;s select that. You can see that the somewhat cryptic format of the filter is spelled out in natural language below the filter.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.6/assets/images/add-filter-rule-3-2207e124c089cccb0d0dbf2d42ccecfc.png" width="767" height="1197" class="img_E7b_"></p></div><p>You should already now see the list in your app changing to only show tasks that are uncompleted (if you have any). If you check the tasks they will start disappearing one by one as they are being filtered out. If you want them back, you will have to go into the <strong>Dashboard</strong> and change the <code>isDone</code> value to false again, and refresh your app.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.6/assets/images/completing-tasks-248fdba43efbf5b5c4a139559d07cc03.gif" width="3840" height="2160" class="img_E7b_"></p></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="dynamic-filtering">Dynamic filtering<a class="hash-link" href="#dynamic-filtering" title="Direct link to heading">​</a></h2><p>The current state of the app is obviously flawed - when you finish all your tasks you see nothing. We need to be able to switch views between the completed and the uncompleted tasks.</p><p>Lets add a <a href="/2.6/nodes/ui-controls/radio-button-group">Radio Button Group</a> with two <a href="/2.6/nodes/ui-controls/radio-button">Radio Buttons</a>. With this, we can control wether we want to show the uncomplete tasks or the completed tasks.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.6/assets/images/radiobutton-1-bb1a2b8849e058e18948338ea8d6a37d.png" width="868" height="529" class="img_E7b_"></p></div><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.6/assets/images/radiobutton-2-d720a589ed7d99962251131a238eb750.png" width="553" height="631" class="img_E7b_"></p></div><p>Make sure the label for the buttons are set correctly (&quot;Show Uncompleted&quot;/&quot;Show Completed&quot;) and that their value is set to &quot;Uncompleted&quot;/&quot;Completed&quot; respectively. Also, the <strong>Value</strong> of the <strong>Radio Button Group</strong> should be &quot;Uncompleted&quot;. That will be the default state. We will use the <strong>Value</strong> output of the <strong>Radio Button Group</strong> to control the filter settings of the <strong>Query Records</strong>.</p><p>Now lets update the <strong>Query Records</strong> node so we can control its filter using inputs. Click the <strong>Query Records</strong> node and change the last part of the filter to not take a value, but an <strong>input</strong>.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.6/assets/images/add-filter-rule-4-32ea51a8ab8d0602cf9dc43860d541bf.png" width="1188" height="343" class="img_E7b_"></p></div><p>Name the input &quot;isDoneFilter&quot;. Now the <strong>Query Records</strong> have a new input that we can use! If the input is set to <code>true</code> we will filter out all completed tasks (<code>isDone = true</code>) and vice versa for <code>false</code>.</p><p>Finally we need to convert the two Radio Button values &quot;Uncompleted&quot; and &quot;Completed&quot; to <code>true</code> or <code>false</code>. We do that by creating an <a href="/2.6/docs/guides/cloud-data/nodes/math/expression">Expression</a> node and setting the expression to</p><p><code>filterState === &quot;Completed&quot;</code></p><p>The <strong>Expression</strong> node will output <code>true</code> if the input is &quot;Completed&quot;, otherwise <code>false</code>. Finally connect the output of the <strong>Expression</strong> to the <strong>Query Records</strong> and - voila! - our filtering will change when clicking the radio buttons.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.6/assets/images/radiobutton-3-4bfd57e515b5565a20db1d0a2371a6c7.png" width="910" height="580" class="img_E7b_"></p></div><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.6/assets/images/radiobutton-ui-acb5bfdcdb3916cf37cac29abe77a18d.gif" width="1200" height="675" class="img_E7b_"></p></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/2.6/docs/guides/cloud-data/updating-records"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Updating Records</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/2.6/docs/guides/cloud-data/record-relations"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Records Relationships</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-you-will-learn-in-this-guide" class="table-of-contents__link toc-highlight">What you will learn in this guide</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#filtering-records-in-the-cloud-vs-locally" class="table-of-contents__link toc-highlight">Filtering Records in the Cloud vs Locally</a></li><li><a href="#using-the-query-records-node-for-filtering" class="table-of-contents__link toc-highlight">Using the Query Records node for filtering</a></li><li><a href="#dynamic-filtering" class="table-of-contents__link toc-highlight">Dynamic filtering</a></li></ul></div></div></div></div></div></main></div></div></div>
<script src="/2.6/assets/js/runtime~main.ff1c37fa.js"></script>
<script src="/2.6/assets/js/main.d7aa14f7.js"></script>
</body>
</html>
"use strict";(self.webpackChunknew_noodl_docs=self.webpackChunknew_noodl_docs||[]).push([[6989],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return h}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),d=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),c=d(a),h=r,m=c["".concat(l,".").concat(h)]||c[h]||u[h]||o;return a?n.createElement(m,s(s({ref:t},p),{},{components:a})):n.createElement(m,s({ref:t},p))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,s=new Array(o);s[0]=c;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var d=2;d<o;d++)s[d]=a[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},35194:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return h},frontMatter:function(){return i},metadata:function(){return d},toc:function(){return u}});var n=a(83117),r=a(80102),o=(a(67294),a(3905)),s=["components"],i={title:"Querying records From Database",hide_title:!0},l="Querying records from database",d={unversionedId:"guides/cloud-data/quering-records-from-database",id:"guides/cloud-data/quering-records-from-database",title:"Querying records From Database",description:"What you will learn in this guide",source:"@site/docs/guides/cloud-data/quering-records-from-database.md",sourceDirName:"guides/cloud-data",slug:"/guides/cloud-data/quering-records-from-database",permalink:"/2.6/docs/guides/cloud-data/quering-records-from-database",tags:[],version:"current",frontMatter:{title:"Querying records From Database",hide_title:!0},sidebar:"docsSidebar",previous:{title:"Creating new Database Records",permalink:"/2.6/docs/guides/cloud-data/creating-new-database-records"},next:{title:"Updating Records",permalink:"/2.6/docs/guides/cloud-data/updating-records"}},p={},u=[{value:"What you will learn in this guide",id:"what-you-will-learn-in-this-guide",level:2},{value:"Overview",id:"overview",level:2},{value:"What is a &quot;Query&quot;?",id:"what-is-a-query",level:2},{value:"Making a Query",id:"making-a-query",level:2},{value:"Visualising the query results using a Repeater node",id:"visualising-the-query-results-using-a-repeater-node",level:2},{value:"Repeater and Records",id:"repeater-and-records",level:3}],c={toc:u};function h(e){var t=e.components,i=(0,r.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"querying-records-from-database"},"Querying records from database"),(0,o.kt)("h2",{id:"what-you-will-learn-in-this-guide"},"What you will learn in this guide"),(0,o.kt)("p",null,"In this guide you will learn how to use the ",(0,o.kt)("a",{parentName:"p",href:"/nodes/data/cloud-data/query-records"},"Query Records")," node to create powerful database queries to retrieve ",(0,o.kt)("strong",{parentName:"p"},"Records")," from a database. You will also learn how to use the ",(0,o.kt)("a",{parentName:"p",href:"/nodes/ui-controls/repeater"},"Repeater")," node in combination with a ",(0,o.kt)("a",{parentName:"p",href:"/nodes/data/cloud-data/record"},"Record")," node to visualize the results of a query."),(0,o.kt)("h2",{id:"overview"},"Overview"),(0,o.kt)("p",null,"We will go through the following steps in this guide"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Create a simple query"),(0,o.kt)("li",{parentName:"ul"},"List results as list items using a ",(0,o.kt)("strong",{parentName:"li"},"Repeater")," node"),(0,o.kt)("li",{parentName:"ul"},"Connecting data properties to visual nodes")),(0,o.kt)("p",null,"To get most out of this guide, it's best that you are already familiar with how to set up a cloud backend, create ",(0,o.kt)("strong",{parentName:"p"},"Classes")," and ",(0,o.kt)("strong",{parentName:"p"},"Records"),". You can quickly learn that by going through the following guides:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/guides/cloud-data/creating-a-backend"},"Creating a Backend")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/guides/cloud-data/creating-a-class"},"Creating a Class")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"/docs/guides/cloud-data/creating-new-database-records"},"Creating Records"))),(0,o.kt)("h2",{id:"what-is-a-query"},'What is a "Query"?'),(0,o.kt)("p",null,"In the database world a Query is how you ask a database for a specific subset of itemsbased on some conditions. In the case of Noodl, you ask your ",(0,o.kt)("strong",{parentName:"p"},"Backend")," for all ",(0,o.kt)("strong",{parentName:"p"},"Records")," in a ",(0,o.kt)("strong",{parentName:"p"},"Class"),' that fullfills one or many conditions. An example of a query, in words, would be "Give me all ',(0,o.kt)("strong",{parentName:"p"},"Records")," in the ",(0,o.kt)("strong",{parentName:"p"},"Class")," ",(0,o.kt)("inlineCode",{parentName:"p"},"Task")," where the property ",(0,o.kt)("inlineCode",{parentName:"p"},"isDone"),' is false".'),(0,o.kt)("h2",{id:"making-a-query"},"Making a Query"),(0,o.kt)("p",null,"First make sure you have started a project with an active Backend with some data available in one or more ",(0,o.kt)("strong",{parentName:"p"},"Classes"),". Following the previous cloud data guides, we will use a ",(0,o.kt)("strong",{parentName:"p"},"Class")," called ",(0,o.kt)("inlineCode",{parentName:"p"},"Task"),", with a bunch of items with the properties ",(0,o.kt)("inlineCode",{parentName:"p"},"task")," - a description of a task, and ",(0,o.kt)("inlineCode",{parentName:"p"},"isDone")," - a boolean value that is either ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," (the task ha been completed) or ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," (the task is not completed yet)."),(0,o.kt)("p",null,'Lets start with an empty project. You can for example use the "Hello World" template and remove the text node. Add a ',(0,o.kt)("a",{parentName:"p",href:"/nodes/ui-controls/repeater/"},"Repeater")," node as a child to the main ",(0,o.kt)("strong",{parentName:"p"},"Group"),". We will need the ",(0,o.kt)("strong",{parentName:"p"},"Repeater")," later to visualize the results of our query."),(0,o.kt)("p",null,"Then create a ",(0,o.kt)("a",{parentName:"p",href:"/nodes/data/cloud-data/query-records"},"Query Records")," node."),(0,o.kt)("div",{className:"ndl-image-with-background l"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(47264).Z,width:"1217",height:"472"}))),(0,o.kt)("p",null,"First we need to select which ",(0,o.kt)("strong",{parentName:"p"},"Class")," this ",(0,o.kt)("strong",{parentName:"p"},"Query Records")," node should be applied to. You do that by clicking the node and select a ",(0,o.kt)("strong",{parentName:"p"},"Class")," from the Class dropdown. You should expect to see all ",(0,o.kt)("strong",{parentName:"p"},"Classes")," you created in this dropdown. If you for some reason don't see them, you probably havent connected to the right backend."),(0,o.kt)("div",{className:"ndl-image-with-background"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(86825).Z,width:"675",height:"610"}))),(0,o.kt)("p",null,'Leave the other settings for now. Since we don\'t add any conditions ("filters" as they are called in Noodl) this query will return all ',(0,o.kt)("strong",{parentName:"p"},"Records")," in the ",(0,o.kt)("inlineCode",{parentName:"p"},"Task")," Class. Or actually not always all, since Noodl will have a default limit on 100 ",(0,o.kt)("strong",{parentName:"p"},"Records")," for a Query, to avoid flooding the network if the ",(0,o.kt)("strong",{parentName:"p"},"Class")," contains a large amount of items. You can change the limit, by checking the ",(0,o.kt)("inlineCode",{parentName:"p"},"Use Limit")," checkbox, but we will not touch that right now."),(0,o.kt)("p",null,"To get a first look at we get back from the Query, create an ",(0,o.kt)("a",{parentName:"p",href:"/nodes/data/array/array-node.md"},"Array")," node to store the results in. Then connect ",(0,o.kt)("strong",{parentName:"p"},"Items")," from the ",(0,o.kt)("strong",{parentName:"p"},"Query Records")," node to the ",(0,o.kt)("strong",{parentName:"p"},"Items")," input on the ",(0,o.kt)("strong",{parentName:"p"},"Array"),". You should immediately see the result of the query if you hover over the connection between the two nodes to see the debug info."),(0,o.kt)("div",{className:"ndl-image-with-background l"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(11285).Z,width:"2030",height:"1177"}))),(0,o.kt)("p",null,"Noodl automatically runs ",(0,o.kt)("strong",{parentName:"p"},"Query Records")," as soon as they are created ",(0,o.kt)("em",{parentName:"p"},"unless")," the input signal ",(0,o.kt)("strong",{parentName:"p"},"Do")," is connected. Since queries and the result of queries are sent over network its sometimes important to control exactly when the query should be performed. In those cases connecting the ",(0,o.kt)("strong",{parentName:"p"},"Do")," signal to control when the query is performed is important. However, in this simple example we don't care about that so leaving it unconnected is fine."),(0,o.kt)("h2",{id:"visualising-the-query-results-using-a-repeater-node"},"Visualising the query results using a Repeater node"),(0,o.kt)("p",null,"To visualize the results we need to do a little bit of Noodling. We need to create a simple list item that can represent each ",(0,o.kt)("strong",{parentName:"p"},"Record"),"."),(0,o.kt)("p",null,'Create a new visual component by clicking the "+" icon under components and then selecting ',(0,o.kt)("inlineCode",{parentName:"p"},"Visual Component"),'. Give the new component a good name, we will call our item "Task Item" as it will represent one task.'),(0,o.kt)("div",{className:"ndl-image-with-background"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(77013).Z,width:"1042",height:"707"}))),(0,o.kt)("p",null,"In the visual component add two nodes under the existing ",(0,o.kt)("strong",{parentName:"p"},"Group")," node, one ",(0,o.kt)("a",{parentName:"p",href:"/nodes/ui-controls/checkbox"},"Checkbox")," and one ",(0,o.kt)("a",{parentName:"p",href:"/nodes/basic-elements/text"},"Text")," node. The ",(0,o.kt)("strong",{parentName:"p"},"Checkbox")," will represent the ",(0,o.kt)("inlineCode",{parentName:"p"},"isDone")," property, while the ",(0,o.kt)("strong",{parentName:"p"},"Text")," node holds the description of the task. Also clean up the layout by setting the ",(0,o.kt)("strong",{parentName:"p"},"layout")," of the ",(0,o.kt)("strong",{parentName:"p"},"Group")," to ",(0,o.kt)("strong",{parentName:"p"},"Horizontal")," and add som padding and margins. Also the label of the ",(0,o.kt)("strong",{parentName:"p"},"Checkbox")," was removed."),(0,o.kt)("div",{className:"ndl-image-with-background"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(77324).Z,width:"1170",height:"815"}))),(0,o.kt)("p",null,"The looks don't matter right now and if you work with different kind of data your list item will look a little different."),(0,o.kt)("p",null,"Next we go back to our main App and set the ",(0,o.kt)("strong",{parentName:"p"},"Template")," of the ",(0,o.kt)("strong",{parentName:"p"},"Repeater")," node to use our newly created Task Item."),(0,o.kt)("div",{className:"ndl-image-with-background l"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(92508).Z,width:"1325",height:"1075"}))),(0,o.kt)("p",null,"Finally, we delete the ",(0,o.kt)("strong",{parentName:"p"},"Array")," node we created earlier and feed the result of the query results directly into the ",(0,o.kt)("strong",{parentName:"p"},"Repeater")," node by connecting ",(0,o.kt)("strong",{parentName:"p"},"Items")," in the ",(0,o.kt)("strong",{parentName:"p"},"Query Records")," node to the ",(0,o.kt)("strong",{parentName:"p"},"Items")," input in the ",(0,o.kt)("strong",{parentName:"p"},"Repeater"),"."),(0,o.kt)("div",{className:"ndl-image-with-background l"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(25819).Z,width:"2700",height:"1125"}))),(0,o.kt)("p",null,"After the connection is done you should see that your list now contains a bunch of items, in fact, it should contain as many items as your ",(0,o.kt)("strong",{parentName:"p"},"Class")," has."),(0,o.kt)("p",null,"The ",(0,o.kt)("strong",{parentName:"p"},"Repeater")," node has created one instance of the list item per ",(0,o.kt)("strong",{parentName:"p"},"Record"),"."),(0,o.kt)("div",{className:"ndl-image-with-background"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(1228).Z,width:"950",height:"1092"}))),(0,o.kt)("p",null,"The only problem is that the items does not show the content of the ",(0,o.kt)("strong",{parentName:"p"},"Record"),". To fix that we need to understand how the ",(0,o.kt)("strong",{parentName:"p"},"Repeater")," node deals with an ",(0,o.kt)("strong",{parentName:"p"},"Array")," of ",(0,o.kt)("strong",{parentName:"p"},"Records"),"."),(0,o.kt)("h3",{id:"repeater-and-records"},"Repeater and Records"),(0,o.kt)("p",null,"To get the items to show the right data, we need to get hold of the ",(0,o.kt)("strong",{parentName:"p"},"Record")," holding the right data. We do this by using the ",(0,o.kt)("a",{parentName:"p",href:"/nodes/data/cloud-data/record"},"Record")," node. Add a ",(0,o.kt)("strong",{parentName:"p"},"Record")," node to the previously created list item. Click the node and make sure its ",(0,o.kt)("strong",{parentName:"p"},"Class")," is set to the class you want to display, in this guide we will point it to the ",(0,o.kt)("inlineCode",{parentName:"p"},"Task")," Class."),(0,o.kt)("div",{className:"ndl-image-with-background l"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(58852).Z,width:"1207",height:"545"}))),(0,o.kt)("p",null,"Now the ",(0,o.kt)("strong",{parentName:"p"},"Id")," of the ",(0,o.kt)("strong",{parentName:"p"},"Record")," comes into play - we need to set it to the ",(0,o.kt)("strong",{parentName:"p"},"Id")," corresponding to the ",(0,o.kt)("strong",{parentName:"p"},"Record")," that the list item represent. It will obviously be different for each list item. Luckily, the ",(0,o.kt)("strong",{parentName:"p"},"Repeater")," node solves this. It will assign the right ",(0,o.kt)("strong",{parentName:"p"},"Id")," to the right list item. See image below."),(0,o.kt)("div",{className:"ndl-image-with-background l"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(45817).Z,width:"2412",height:"650"}))),(0,o.kt)("p",null,"The only thing we need to do is to tell the ",(0,o.kt)("strong",{parentName:"p"},"Record")," node to pick up its ",(0,o.kt)("strong",{parentName:"p"},"Id")," from the right place. Click the ",(0,o.kt)("strong",{parentName:"p"},"Record")," node again and change the ",(0,o.kt)("strong",{parentName:"p"},"Id Source")," to ",(0,o.kt)("inlineCode",{parentName:"p"},"From repeater"),"."),(0,o.kt)("div",{className:"ndl-image-with-background"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(59451).Z,width:"672",height:"502"}))),(0,o.kt)("p",null,"Now if you hover on the ",(0,o.kt)("strong",{parentName:"p"},"Repeater")," you should see that its filled with data for one of the list items."),(0,o.kt)("div",{className:"ndl-image-with-background l"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(12728).Z,width:"1215",height:"635"}))),"### Connecting the Record properties",(0,o.kt)("p",null,"Finally, lets connect the data of the record - its properties - to our ",(0,o.kt)("strong",{parentName:"p"},"Text")," node and ",(0,o.kt)("strong",{parentName:"p"},"Checkbox"),"."),(0,o.kt)("div",{className:"ndl-image-with-background l"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(88224).Z,width:"1187",height:"697"}))),(0,o.kt)("p",null,"You should now be able to see your ",(0,o.kt)("strong",{parentName:"p"},"Records")," in your app."),(0,o.kt)("div",{className:"ndl-image-with-background"},(0,o.kt)("p",null,(0,o.kt)("img",{src:a(26766).Z,width:"960",height:"917"}))))}h.isMDXComponent=!0},59451:function(e,t,a){t.Z=a.p+"assets/images/id-source-93fa20cd4ee9767e79ea8ec19d2d758e.png"},1228:function(e,t,a){t.Z=a.p+"assets/images/items-1-e3b23e4a1fa99aafca3b5bf29eb3b2b7.png"},26766:function(e,t,a){t.Z=a.p+"assets/images/items-2-3c05397a338776ff2cab9c446a75d161.png"},77013:function(e,t,a){t.Z=a.p+"assets/images/new-component-6b3ae387503de497f5cd314df08233aa.png"},47264:function(e,t,a){t.Z=a.p+"assets/images/query-1-7935240109ec57d5a1bd61adadb18703.png"},86825:function(e,t,a){t.Z=a.p+"assets/images/query-2-aa8ac3359857c60b3773177d93b6010b.png"},11285:function(e,t,a){t.Z=a.p+"assets/images/query-running-f5ba1a748f99e960d4900eba046fd058.png"},25819:function(e,t,a){t.Z=a.p+"assets/images/query-to-repeater-27e4cfcb6428daedbe6cc60f844d639c.png"},58852:function(e,t,a){t.Z=a.p+"assets/images/record-1-89cb22b78549cc87be93e700f058c04e.png"},12728:function(e,t,a){t.Z=a.p+"assets/images/record-2-989b99047abbb21c09bba8308347fd57.png"},88224:function(e,t,a){t.Z=a.p+"assets/images/record-3-bb509f74b06be8c9b5d8748f01e8076c.png"},45817:function(e,t,a){t.Z=a.p+"assets/images/records-database-illustration-9cb4b5dbba5999c30a958723706b88b6.png"},92508:function(e,t,a){t.Z=a.p+"assets/images/repeater-template-91c7de2bde72cf351e5f6e30a9526e2a.png"},77324:function(e,t,a){t.Z=a.p+"assets/images/task-item-812c41d30880b0522e4b49f7d44e40f3.png"}}]);
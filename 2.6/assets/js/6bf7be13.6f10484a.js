"use strict";(self.webpackChunknew_noodl_docs=self.webpackChunknew_noodl_docs||[]).push([[6062],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=o.createContext({}),l=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=l(e.components);return o.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,p=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),d=l(n),m=r,y=d["".concat(p,".").concat(m)]||d[m]||u[m]||a;return n?o.createElement(y,i(i({ref:t},s),{},{components:n})):o.createElement(y,i({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:r,i[1]=c;for(var l=2;l<a;l++)i[l]=n[l];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"},12579:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return c},metadata:function(){return l},toc:function(){return u}});var o=n(83117),r=n(80102),a=(n(67294),n(3905)),i=["components"],c={},p="Create a React component",l={unversionedId:"extending/create-react-lib",id:"extending/create-react-lib",title:"Create a React component",description:"Noodl is based on the popular React front end library which makes it easy for you to add custom or community React components to your workspace. This guide will help you create a React library from scratch and push it to your Noodl workspace.",source:"@site/javascript/extending/create-react-lib.md",sourceDirName:"extending",slug:"/extending/create-react-lib",permalink:"/2.6/javascript/extending/create-react-lib",tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"Create a new core node",permalink:"/2.6/javascript/extending/create-lib"}},s={},u=[{value:"A tour of the code",id:"a-tour-of-the-code",level:2}],d={toc:u};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,a.kt)("wrapper",(0,o.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"create-a-react-component"},"Create a React component"),(0,a.kt)("p",null,"Noodl is based on the popular React front end library which makes it easy for you to add custom or community React components to your workspace. This guide will help you create a React library from scratch and push it to your Noodl workspace."),(0,a.kt)("p",null,"In order to complete this guide you must install the ",(0,a.kt)("em",{parentName:"p"},"Noodl CLI")," and learn how to push the module to your workspace. Please review ",(0,a.kt)("a",{parentName:"p",href:"/javascript/extending/create-lib"},"this guide")," first."),(0,a.kt)("p",null,"With the CLI tool you can easily create a new react library module from a template:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"noodl-cli create-react-lib my-react-lib\n")),(0,a.kt)("p",null,"You need to specify a directory name that will be created. The directory will contain everything you need to get started. Using the command above, the directory ",(0,a.kt)("em",{parentName:"p"},"my-react-lib")," will be created."),(0,a.kt)("p",null,"The newly created directory has the following structure:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"my-react-lib/\n    module/\n    project/\n    tests/\n    icon.png\n    module.json\n")),(0,a.kt)("p",null,"Just like in the introductory ",(0,a.kt)("a",{parentName:"p",href:"/javascript/extending/create-lib"},"guide")," the folder contains the ",(0,a.kt)("strong",{parentName:"p"},"project")," and ",(0,a.kt)("strong",{parentName:"p"},"tests")," subfolders that you may to import into Noodl. Especially the ",(0,a.kt)("strong",{parentName:"p"},"tests")," folder is a good place to play around with your library and create tests to make sure the component is working as expected."),(0,a.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"It is important that you do now change the name of the ",(0,a.kt)("strong",{parentName:"p"},"project")," and ",(0,a.kt)("strong",{parentName:"p"},"tests")," folders. The build scripts in the ",(0,a.kt)("em",{parentName:"p"},"module")," folder is dependent on these names or it till not build the module properly and you cannot push to your workspace."))),(0,a.kt)("h2",{id:"a-tour-of-the-code"},"A tour of the code"),(0,a.kt)("p",null,"Now you have created a new React library module from the template and you have pushed it to your Noodl workspace. Let's review the code a bit to get you up and running."),(0,a.kt)("p",null,"The react code can be found in the ",(0,a.kt)("strong",{parentName:"p"},"module")," directory."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"my-react-lib/\n    module/\n        src/\n            index.js\n        assets/\n            manifest.json\n        package.json\n        webpack.config.js\n    project/\n        ...\n")),(0,a.kt)("p",null,"Open ",(0,a.kt)("em",{parentName:"p"},"index.js")," in your favorite editor. This file contains a simple React component and its export to Noodl. Each component that you want to be exposed in Noodl as a visual component, must be exported."),(0,a.kt)("p",null,"First a simple React component:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"function MyCustomReactComponent(props) {\n    const style = {\n        color: props.textColor,\n        backgroundColor: props.backgroundColor,\n        borderRadius: '10px',\n        padding: '20px',\n        marginBottom: props.marginBottom\n    };\n\n    return <div style={style} onClick={props.onClick} >{props.children}</div>\n}\n")),(0,a.kt)("p",null,"Next the export of the component to Noodl:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"const MyCustomReactComponentNode = Noodl.defineReactNode({\n    name: 'Custom React Component',\n    category: 'Tutorial',\n    getReactComponent() {\n        return MyCustomReactComponent;\n    },\n    inputProps: {\n        backgroundColor: {type: 'color', default: 'white'},\n        marginBottom: {type: {name: 'number', units: ['px'], defaultUnit: 'px'}, default: 10}\n    },\n    outputProps: {\n        onClick: {type: 'signal', displayName: 'Click'}\n    }\n})\n")),(0,a.kt)("p",null,"In addition to how you would specify a simple Noodl node, as in the introductory ",(0,a.kt)("a",{parentName:"p",href:"/javascript/extending/create-lib"},"guide"),", you must provide the ",(0,a.kt)("em",{parentName:"p"},"getReactComponent")," function that retuns the React component. You may also specify ",(0,a.kt)("em",{parentName:"p"},"inputProps")," and ",(0,a.kt)("em",{parentName:"p"},"outputProps")," that map to the properties of the React node and will become inputs and outputs of your Noodl node."),(0,a.kt)("p",null,"Outputs in React are typically done via callbacks. You can capture these callbacks and deliver them as outputs in Noodl."),(0,a.kt)("p",null,"Finally the component is provided as part of your module declaration. Here you need to put it under the ",(0,a.kt)("em",{parentName:"p"},"reactNodes")," section to make sure Noodl recognises it as a visual node."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"Noodl.defineModule({\n    reactNodes: [\n        MyCustomReactComponentNode\n    ],\n    nodes:[\n    ],\n    setup() {\n        //this is called once on startup\n    }\n});\n")))}m.isMDXComponent=!0}}]);
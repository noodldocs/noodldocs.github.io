<!--Intro popup -->
<div data-template="popup"> 
    <video src="01_intro.mp4"></video>
    <h2>Learn how to work with navigation</h2>
    <p>This lesson will guide you through the steps of setting up a navigation system.</p>
    <p>We will be using a simple list of destination cards, and make each card navigate to a detailed page for the destination.</p>
    <p>There are many types of navigation patterns, and through this lesson you will learn about the basics needed for most navigation patterns.</p>
    <p>Click "next" to get started!</p>
</div>

<!-- # -->
<!-- Talk about lists -->

<div> 
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Key elements of a navigation system</h2>
    </div>
    <div data-template="popup">
        <h2>Key elements of a navigation system</h2>
        <p>A navigation system is built out of three elements:</p>
        <p>1. A <b>Page Router </b> node, which works as a visual node in the visual hierarchy, controlling what page to show.</p>
        <p>2. Multiple <b>Page Components</b> that each will hold the visual elements of a page.</p>
        <p>3. A <b>Navigate</b> node that lets you navigate from one page to another when an event happens.</p>
        <p>Let's start by looking at the project.</p>
    </div>
</div>


<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Scope of this lessons</h2>
    </div>
    <div data-template="popup">
        <video src="02_static-array.mp4"></video>
        <h2>Scope of this lessons</h2>
        <p>In this lesson we have build a small list of destination cards for you. It's a very similar approach to what we covered in lesson 02.</p>
        <p>Everything is in the App Component for now, but we will soon be moving the lists into it's own page and open another page with when an list item is clicked.</p>
        <p>Let's start out looking at the Page router component and how to set it up.</p>
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Tutorial tasks</h2>
    </div>
    <div data-template="popup">
        <video src="task-intro-video.mp4"></video>
        <h2>Tutorial tasks</h2>
        <p>During this tutorial, you will be given multiple tasks. Spot them in the tutorial timeline by the “Task” label.</p>
        <p>Click on the card to get a hint of how to complete the task.</p>
    </div>
</div>


<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Page Router node</h2>
    </div>
    <div data-template="popup">
        <h2>Page Router node</h2>
        <p>The Page Router node is a visual node meaning it takes up space on the screen. Any Page you navigate to will become child of the Page Router and use its space.</p>
        <p>All nodes in the visual hierarchy that are not in the Pages will stay on screen no matter how you navigate. So title and footer would normally not be part of the Page but lie next to the Page Router in the hierarchy.</p>
        <p>Lets start by placing a Page router node into our App component.</p>
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/App:%Group:%Group:%Router", 
            "exists":true
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Place a Page router node as the first child to the Group called <i>Max width: 600px</i></h3>
    </div>
    <div data-template="popup">
        <video src="05_create-component.mp4"></video>
        <p>Place a Page router node as the first child to the Group called <i>Max width: 600px</i></p>
    </div>
</div>


<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Creating pages</h2>
    </div>
    <div data-template="popup">
        <h2>Creating pages</h2>
        <p>Now when we have our Page Router node, our next steps is to add some pages to it. This can be done from the property panel when we have the Page Router node selected.</p> 
        <p>Click the "Add new page" button to assign existing pages to be part of this Page Router.</p> 
        <p>If we already had Page components in the project we could simple add them to our router from here, but we don't have any Pages yet.</p>
        <p>You can create new pages from here by clicking the "+" icon in top of the popup window where it says <i>Create new page</i></p>
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/App:%Group:%Group:%Router", 
            "paramseq": {
                "pages": {
                  "routes": ["/List page"]
                }
            }
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Create a new page called <i>List page</i></h3>
    </div>
    <div data-template="popup">
        <video src="05_create-component.mp4"></video>
        <p>Create a new page called <i>List page</i></p>
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/App:%Group:%Group:%Router", 
            "paramseq": {
                "pages": {
                  "routes": ["/List page", "/Description page"]
                }
            }
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Create another new page called <i>Description page</i></h3>
    </div>
    <div data-template="popup">
        <video src="05_create-component.mp4"></video>
        <p>Create another new page called <i>Description page</i></p>
    </div>
</div>



<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Page Components</h2>
    </div>
    <div data-template="popup">
        <h2>Page Components</h2>
        <p>A page component will be put in the space that the Page Router takes up, once navigated to the page.</p>
        <p>To change the content of a page we can navigate to a Page component from the component sidebar. By default, a Page components comes with two nodes:</p>
        <p>1. A visual page node. Everything nested to this node will be part of the page.</p>
        <p>2. A Page inputs node. This node is used to send data to the page when navigating.</p>
        <p>Lets move our Lists and title to our newly created page called <i>List page</i></p>
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/List page:#List content",
            "exists":true
        }
    ]'
>
    <div data-template="item" style="width: 550px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Select the Group called <i>List content</i> and all its children, including the static Array node, and move them into the List page component</h3>
    </div>
    <div data-template="popup">
        <video src="05_create-component.mp4"></video>
        <p>Move the Static array, Repeater, and Text node into the List page component</p>
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/List page:%Page:#List content",
            "exists":true
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Make the List content group a children to the Page node.</h3>
    </div>
    <div data-template="popup">
        <video src="05_create-component.mp4"></video>
        <p>Move the Static array, Repeater, and Text node into the List page component</p>
    </div>
</div>


<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Setting a start page</h2>
    </div>
    <div data-template="popup">
        <video src="04_visual-component.mp4"></video>
        <h2>Setting a start page</h2>
        <p>Once we added the list nodes to the page, they become visible in our preview.</p>
        <p>This is because the List page is set to be the start page inside the Page Router</p>
        <p>We can change what page should be the start page from the contextual menu on each page item in the Page router node's property panel.</p>
    </div>
</div>



<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path": "/App:%Group:%Group:%Router",
            "paramseq": {
                "pages": {
                    "startPage": "/Description page"
                }
            }
        }
    ]'
>
    <div data-template="item" style="width: 500px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Go back to the App component, and modify the Page Router so that the <i>Description page</i> is set to be the start page</h3>
    </div>
    <div data-template="popup">
        <video src="05_create-component.mp4"></video>
        <p></p>
    </div>
</div>


<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Description page</h2>
    </div>
    <div data-template="popup">
        <video src="04_visual-component.mp4"></video>
        <h2>Description page</h2>
        <p>Our preview now become blank, and thats because the Description page is now set to be the start page.</p> 
        <p>The Description page don't have any content yet, hence the blank screen. So while we have it visible in the preview lets add a simple layout.</p>
        <p>The purpose of this page is to show more details after clicking on one of the destination cards.</p>
        <p>We will be adding a back button, an image, a title, and a description to the Description page now.</p>
    </div>
</div>



<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Description page:%Page:%Group", 
            "exists":true
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>In the Description page, add a Group node to the Page node</h3>
    </div>
    <div data-template="popup">
    </div>
</div>



<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Description page:%Page:%Group:%net.noodl.controls.button", 
            "paramseq": {
                "label": "Go back"
            }
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Add a Button node as a child to the Group node, ad change its label to <i>Go back</i></h3>
    </div>
    <div data-template="popup">
    </div>
</div>

<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Description page:%Page:%Group:%Image", 
            "paramseq": {
                "sizeMode":"explicit",
                "marginTop": { "value": 24, "unit": "px" }
            }
        }
    ]'
>
    <div data-template="item" style="width: 550px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Add an image node as a second child to the Group node and set its <i>Top margin</i> to 24px, and dimension mode to explicit width & height</h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Description page:%Page:%Group:%Text", 
            "paramseq": {
                "textStyle": "H1",
                "marginTop": { "value": 24, "unit": "px" }
            }
        }
    ]'
>
    <div data-template="item" style="width: 400px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Add a text node as a third child and give it a text style of <i>H1</i> and a <i>Top margin<i> of 24px</h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Description page:%Page:%Group:3", 
            "paramseq": {
                "textStyle": "Body Text",
                "marginTop": { "value": 24, "unit": "px" }
            }
        }
    ]'
>
    <div data-template="item" style="width: 400px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Add another text node and give it a text style of <i>Body Text</i> and a <i>Top margin<i> of 24px</i></h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Sending data to a page</h2>
    </div>
    <div data-template="popup">
        <video src="04_visual-component.mp4"></video>
        <h2>Sending data to a page</h2>
        <p>Now we have a simple layout to display more details about the destination we click on from the list.</p>
        <p>As our list of destinations is created with data from a Static array node, we want to make the data associated with a clicked destination list item available inside of this description page.</p>
        <p>We can do this by first adding an Object node into the page, so we have a way to recieve the data, and create and connect the properties to our layout.</p>
    </div>
</div>



<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Description page:%Model2", 
            "exists":true
        }
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Add an Object node to the Description page and create the three following properties: <i>title, description, photo</i></h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "from": "/Description page:%Model2",
            "to":"/Description page:%Page:%Group:%Image",
            "hasconnection": "prop-photo,src"
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the <i>image</i> property to the source input on the image node</h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "from": "/Description page:%Model2",
            "to":"/Description page:%Page:%Group:%Text",
            "hasconnection": "prop-title,text"
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the <i>title</i> property from the Object node to the first text node's text input</h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "from": "/Description page:%Model2",
            "to":"/Description page:%Page:%Group:3",
            "hasconnection": "prop-description,text"
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the <i>description</i> property from the Object node to the second text node's text input</h3>
    </div>
    <div data-template="popup">
    </div>
</div>



<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Page input node</h2>
    </div>
    <div data-template="popup">
        <h2>Page input node</h2>
        <p>When we create a Page component it comes with Page input node. With this node, we can define input parameters that we can connect data to once we navigate to the page.</p>
        <p>The Page input has two types of parameters being <i>Path parameters</i> and <i>Query parameters</i>.</p>
        <p>A page can only have one Path parameter as than becomes part of the url. In our case this becomes helpful if we want to get an url that points directly to the Description page for a specfic destination.</p>
        <p>A page can have multiple query parameters, and will not be part of the url.</p>
    </div>
</div>


<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Creating a path parameter</h2>
    </div>
    <div data-template="popup">
        <h2>Creating a path parameter</h2>
        <p>We want to send an Object Id that can reference the data of the destination card, once we click on a destination card to navigate.</p>
        <p>If we create an input property on the Page node and connect that to the id property on the Object node we will have a way to access the data inside the page.</p>
        <p>Let's add a path parameter called <i>object id</i></p>
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
    {
        "path": "/Description page:%PageInputs",
        "paramseq": {
            "pathParams": "object id"
        }
    }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>On the Page input, create a path parameter called <i>object id</i></h3>
    </div>
    <div data-template="popup">
    </div>
</div>



<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "from": "/Description page:%PageInputs",
            "to": "/Description page:%Model2",
            "hasconnection": "pm-object id,modelId"
        }
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the <i>object id</i> parameter from the Page input node to the Id property of the Object node</h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Navigation node</h2>
    </div>
    <div data-template="popup">
        <h2>Navigation node</h2>
        <p>Last piece missing for having a working navigation flow is not do the actual navigation when some event happens.</p>
        <p>As we are on the Description page already, we can add a Navigation node that points to the List page, and gets triggered when we click the "go back" button</p>
        <p>The Navigation node has a <i>Target page</i> property where we can select what page it should navigate to.</p>
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path": "/Description page:%RouterNavigate",
            "paramseq":{
                "target": "/List page"
            }
        }
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Place a Navigate node in to the node graph and select the Target page to be  <i>List page</i></h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "from": "/Description page:%Page:%Group:%net.noodl.controls.button",
            "to": "/Description page:%RouterNavigate",
            "hasconnection": "onClick,navigate"
        }
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the <i>Click</i> event from the Button node to the Navigate event on the Navigate node></h3>
    </div>
    <div data-template="popup">
    </div>
</div>




<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Navigation</h2>
    </div>
    <div data-template="popup">
        <h2>Navigation</h2>
        <p>Great! Now we can click that "Go back" button to navigate to the list page.</p>
        <p>Now we just need to add a Navigate node to our Destination list item and make sure we pass on the object id as an input to the navigation node.</p>
        <p>When we set a Navigation node to target a specific page, the Page inputs paramters defined in the page's Page input node, will show up as inputs on the navigation node.</p>
        <p>Let's try it out!</p>
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path": "/App:%Group:%Group:%Router",
            "paramseq": {
                "pages": {
                    "startPage": "/List page"
                }
            }
        }
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Set the Page Router's start page to be the <i>List page</i>, as we had to begin with</h3>
    </div>
    <div data-template="popup">
    </div>
</div>



<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path": "/Destination List item:%RouterNavigate",
            "exists": true
        }
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Go to the <i>Destination List item</i> component, and place a Navigate node.</h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path": "/Destination List item:%RouterNavigate",
            "paramseq":{
                "target": "/Description page"
            }
        }
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Set the Navigate node's target page to be the Description page</h3>
    </div>
    <div data-template="popup">
    </div>
</div>


<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "from": "/Destination List item:%Model2",
            "to": "/Destination List item:%RouterNavigate",
            "hasconnection": "id,pm-object id"
        }
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the Id output from the Object node to the <i>object id</i> input on the Navigate node</h3>
    </div>
    <div data-template="popup">
    </div>
</div>



<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        
            {
                "from": "/Destination List item:%Group",
                "to": "/Destination List item:%RouterNavigate",
                "hasconnection": "onClick,navigate"
            }
        
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the <i>Click</i> event from the top Group node to the <i>Navigate</i> event on the Navigation node</h3>
    </div>
    <div data-template="popup">
    </div>
</div>



<!-- # -->
<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div>
    <div data-template="item">
        <header>Outro</header>
        <h2>Congratulations!</h2>
    </div>
    <div data-template="popup">
        <!--<img src="tutorial_card.png" style="cursor: pointer;" onclick="window.open('https://www.youtube.com/watch?v=TNnn0Gzj-H4&list=PL2eC2vS4uVoMbujQ5CiNtNuP7s7-UwNn-')"> -->
        <h2>Congratulations!</h2>
        <p>You've completed this lesson, we hope you liked it!</p>
        <p>To take your Noodl skills to the next level we recommend our video tutorial that shows how to build a to-do app with a real backend.</p>
        <p>Happy Noodling!</p>
        <button style="width: 150px" data-click="exitEditor">EXIT LESSON</button>
    </div>
</div>
<!-- # -->



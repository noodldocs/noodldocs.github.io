<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-library docs-doc-id-modules/mapbox/guides/interacting/README">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="search" type="application/opensearchdescription+xml" title="Noodl" href="/2.8/opensearch.xml">
<link rel="alternate" type="application/json" href="/2.8/whats-new/feed.json" title="Noodl JSON Feed">
<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-P4LSJL4",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager --><title data-rh="true">Interacting with the Mapbox Module | Noodl</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.noodl.net/2.8/library/modules/mapbox/guides/interacting/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://docs.noodl.net/noodl-docs.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-library-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-library-current"><meta data-rh="true" property="og:title" content="Interacting with the Mapbox Module | Noodl"><meta data-rh="true" name="description" content="What you will learn in this guide"><meta data-rh="true" property="og:description" content="What you will learn in this guide"><link data-rh="true" rel="icon" href="/2.8/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.noodl.net/2.8/library/modules/mapbox/guides/interacting/"><link data-rh="true" rel="alternate" href="https://docs.noodl.net/2.8/library/modules/mapbox/guides/interacting/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.noodl.net/2.8/library/modules/mapbox/guides/interacting/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://D29X2LNM4J-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/2.8/assets/css/styles.4031965f.css">
<link rel="preload" href="/2.8/assets/js/runtime~main.5a8f300f.js" as="script">
<link rel="preload" href="/2.8/assets/js/main.f84df10b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/2.8/"><div class="navbar__logo"><img src="/2.8/img/logo.svg" alt="Noodl Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/2.8/img/logo.svg" alt="Noodl Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Docs</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/2.8/docs/learn">Learn</a><a class="navbar__item navbar__link" href="/2.8/nodes/overview">Node reference</a><a class="navbar__item navbar__link" href="/2.8/library/overview">Library</a><a class="navbar__item navbar__link has-divider" href="/2.8/javascript/overview">Javascript</a><a href="https://forum.noodl.net/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Forum</a><a href="https://discord.com/invite/23xU2hYrSJ" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link is-discord">Discord</a><a href="https://console.noodl.net/#/signup" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link is-download-button">Download</a><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><div class="search-bar-outer"><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/2.8/library/modules/mapbox/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret menu__link--active">Guides</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.8/library/modules/mapbox/guides/setting-up/">Setting up</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.8/library/modules/mapbox/guides/directions-api/">Directions API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/2.8/library/modules/mapbox/guides/interacting/">Interacting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.8/library/modules/mapbox/guides/using-markers/">Using Markers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.8/library/modules/mapbox/guides/screen-coordinates/">Screen Coordinates</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist-caret">Nodes</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/2.8/library/modules/mapbox/mapbox-map">Mapbox Map</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/2.8/library/modules/mapbox/release-notes">Release Notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/2.8/library/modules/overview">Back to modules</a></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="Root_noPZ"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Interacting with the Mapbox Module</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="what-you-will-learn-in-this-guide">What you will learn in this guide<a class="hash-link" href="#what-you-will-learn-in-this-guide" title="Direct link to heading">​</a></h2><p>This guide will teach you how to implement basic interactions with your Mapbox map using the Mapbox Module.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p>If you haven&#x27;t already looked at the guide for setting up the Mapbox Module, it&#x27;s recommended to recommended to do that before starting this guide. You can find it <a href="/2.8/library/modules/mapbox/guides/setting-up">here</a>.</p><p>We will go though the following steps:</p><ul><li>Getting the latitude and longitude of the position a user clicked on the map.</li><li>Detecting when a user moves the map.</li></ul><p>There is also a video walking through the guide.</p><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/oDGEKKvlD74" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><h2 class="anchor anchorWithStickyNavbar_mojV" id="getting-the-position-that-the-user-clicked">Getting the position that the user clicked<a class="hash-link" href="#getting-the-position-that-the-user-clicked" title="Direct link to heading">​</a></h2><p>If we start out with the same super simple app as in the previous guide we can start adding some interactions to it.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.8/assets/images/initial-state-63d75052cf9420661c8ed9f852396bdc.png" width="2045" height="1100" class="img_E7b_"></p></div><p>Let&#x27;s first remove the &quot;Hello World&quot;-text. Instead we replace it with a panel. We will build it using a <a href="/2.8/nodes/basic-elements/group">Group</a> node. So add a <strong>Group</strong> node at the bottom of the node hierarchy. Name it &quot;Popup Panel&quot; for readability.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.8/assets/images/nodes-1-6bcabd0f913fa6d997a11b476e364a5a.png" width="595" height="475" class="img_E7b_"></p></div><p>We want it to float on top of the MapboxMap so change it&#x27;s <strong>Position</strong> to <strong>Absolute</strong>. Center it and dock it to the bottom using the <strong>Layout</strong> controls. Set a size of 300 pixels wide and 100 pixels high for now. Give it a bottom margin of 20 pixels to give it some space.</p><div class="ndl-image-with-background s"><p><img loading="lazy" src="/2.8/assets/images/popup-panel-1-151c38e611df0f45d591558b3b6b4e35.png" width="675" height="1910" class="img_E7b_"></p></div><p>Also make it white, with rounded corners of 10 pixels and a 2 pixel outline of a dark grey color. Also tick &quot;Shadow Enabled&quot; to make it a little nicer visually.</p><div class="ndl-image-with-background s"><p><img loading="lazy" src="/2.8/assets/images/popup-panel-2-595f146c89f3735289706436c45618e0.png" width="680" height="1435" class="img_E7b_"></p></div><p>Now you should have a panel floating on top of the map.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.8/assets/images/screen-1-03941f209a733914c34b43f567812fe0.png" width="1657" height="1210" class="img_E7b_"></p></div><p>We want to print out the geographical location in the panel, i.e. the latitude and longitude of the position the user clicks.</p><p>Add two text nodes in the panel. Adjust the padding (horizontally and vertically) of the &quot;Popup Panel&quot; to 10 pixels to give the text some space.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.8/assets/images/state-2-0e42e9b6207138e475b34f028bf2facc.png" width="2362" height="1302" class="img_E7b_"></p></div><p>Then connect the two outputs &quot;Longitude&quot; and &quot;Latitude&quot; to the respective text. <em>Make sure it&#x27;s the one under &quot;Mapped Clicked&quot; Section</em> since there are two other similarly named outputs that holds the current panning position of the map.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.8/assets/images/connection-1-ced03a49117b0ed17d2338dd3a9c9643.png" width="1662" height="1290" class="img_E7b_"></p></div><p>Now try clicking around in the map. You should see the two texts updating whenever you click.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.8/assets/images/screen-2-d01b7229549fd4f021cc91ff8bf3c688.png" width="1940" height="1735" class="img_E7b_"></p></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="tracking-map-movement">Tracking Map Movement<a class="hash-link" href="#tracking-map-movement" title="Direct link to heading">​</a></h2><p>Now let&#x27;s add some behavior to the panel. We want it to appear from the bottom when the user clicks on the map. Then, when the user starts panning or zooming in the map. To do this we are going to use the <strong>Click</strong> and <strong>Map Moved</strong> signals.</p><p>First add a <a href="/2.8/nodes/utilities/logic/states">States</a> node that will hold the current state of the panel. Add the states &quot;Off Screen&quot; and &quot;On Screen&quot;. Create a value to control in the state, lets call it &quot;Y Position&quot;. This is the value that will control the Y position of the panel. It will be 120 when the panel is &quot;Off Screen&quot; (i.e. it will be below the screen). Then it will be 0 when the panel is &quot;On Screen&quot;, i.e. it will be back at the bottom of the screen.</p><div class="ndl-image-with-background"><p><img loading="lazy" src="/2.8/assets/images/states-panel-1-2644be253ee1568a7422a1bc84b3bd68.png" width="687" height="2165" class="img_E7b_"></p></div><p>Finally hook up the outputs <strong>Click</strong> and <strong>Map Moved</strong> signal to change the state between &quot;On Screen&quot; and &quot;Off Screen&quot;. Feed back the output &quot;Y Position&quot; to the <strong>Pos Y</strong> of the panel.</p><div class="ndl-image-with-background l"><p><img loading="lazy" src="/2.8/assets/images/nodes-2-4af235bb7ce424438c0f65c86288f102.png" width="1545" height="1132" class="img_E7b_"></p></div><p>Now you should be able to move around and click on the map, showing and hiding the panel printing the longitude and latitude.</p><p>If you want to import the final project, click the &quot;Import&quot; button below and follow the instructions.</p><div class="ndl-image-with-background l"><img loading="lazy" src="/2.8/library/modules/mapbox/guides/interacting/final-result.gif" class="ndl-image large img_E7b_"><button class="ndl-import-button"></button></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/2.8/library/modules/mapbox/guides/directions-api/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Directions API with the Mapbox Module</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/2.8/library/modules/mapbox/guides/using-markers/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using Markers</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-you-will-learn-in-this-guide" class="table-of-contents__link toc-highlight">What you will learn in this guide</a></li><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#getting-the-position-that-the-user-clicked" class="table-of-contents__link toc-highlight">Getting the position that the user clicked</a></li><li><a href="#tracking-map-movement" class="table-of-contents__link toc-highlight">Tracking Map Movement</a></li></ul></div></div></div></div></div></main></div></div></div>
<script src="/2.8/assets/js/runtime~main.5a8f300f.js"></script>
<script src="/2.8/assets/js/main.f84df10b.js"></script>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-P4LSJL4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>
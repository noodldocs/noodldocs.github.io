"use strict";(self.webpackChunknoodl_docs=self.webpackChunknoodl_docs||[]).push([[5299],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),d=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=d(a),u=o,h=p["".concat(l,".").concat(u)]||p[u]||m[u]||r;return a?n.createElement(h,i(i({ref:t},c),{},{components:a})):n.createElement(h,i({ref:t},c))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:o,i[1]=s;for(var d=2;d<r;d++)i[d]=a[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},97187:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>p});var n=a(87462),o=(a(67294),a(3905)),r=a(17213),i=a(44996);const s={title:"Scanning for QR Codes in a camera feed",hide_title:!0},l="Scanning for QR Codes in a camera feed",d={unversionedId:"modules/qr-scanner/guides/camera-feed/README",id:"modules/qr-scanner/guides/camera-feed/README",title:"Scanning for QR Codes in a camera feed",description:"This example enables you to scan a camera feed for Quick Response (QR) Codes and fetch the resulting data in the QR Code. To scan for QR Codes via uploaded images, see the documentation on the Image QR Scanner.",source:"@site/library/modules/qr-scanner/guides/camera-feed/README.md",sourceDirName:"modules/qr-scanner/guides/camera-feed",slug:"/modules/qr-scanner/guides/camera-feed/",permalink:"/2.8/library/modules/qr-scanner/guides/camera-feed/",draft:!1,tags:[],version:"current",frontMatter:{title:"Scanning for QR Codes in a camera feed",hide_title:!0},sidebar:"qrScannerSidebar",previous:{title:"QR Code Scanner",permalink:"/2.8/library/modules/qr-scanner/"},next:{title:"Scanning for QR Codes in uploaded images",permalink:"/2.8/library/modules/qr-scanner/guides/image-upload/"}},c={},p=[{value:"A simple example setup",id:"a-simple-example-setup",level:2},{value:"Flipping the camera",id:"flipping-the-camera",level:2},{value:"Displaying the camera feed",id:"displaying-the-camera-feed",level:2},{value:"No camera stream in viewer? HTTP vs. HTTPS",id:"no-camera-stream-in-viewer-http-vs-https",level:2}],m={toc:p},u="wrapper";function h(e){let{components:t,...a}=e;return(0,o.kt)(u,(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"scanning-for-qr-codes-in-a-camera-feed"},"Scanning for QR Codes in a camera feed"),(0,o.kt)("p",null,"This example enables you to scan a camera feed for Quick Response (QR) Codes and fetch the resulting data in the QR Code. To scan for QR Codes via uploaded images, see the documentation on the ",(0,o.kt)("a",{parentName:"p",href:"/library/modules/qr-scanner/guides/image-upload"},"Image QR Scanner"),"."),(0,o.kt)("p",null,"The Camera QR Scanner Node works in conjunction with the ",(0,o.kt)("strong",{parentName:"p"},"Video Node"),", which displays the camera feed that will be scanned for QR Codes. In the image below you can see how such a node tree might look."),(0,o.kt)("h2",{id:"a-simple-example-setup"},"A simple example setup"),(0,o.kt)("p",null,"In the example below, we use a ",(0,o.kt)("a",{parentName:"p",href:"/nodes/basic-elements/video"},"Video")," node to display the camera feed of the Camera QR Scanner. We start this feed with the ",(0,o.kt)("span",{className:"ndl-signal"},"Did Mount")," signal on the top parent ",(0,o.kt)("strong",{parentName:"p"},"Group"),". If a QR Code has been successfully recognized in the camera feed the ",(0,o.kt)("span",{className:"ndl-data"},"Scan Result")," is returned to a ",(0,o.kt)("a",{parentName:"p",href:"/nodes/data/string"},"String")," node that then goes to a ",(0,o.kt)("a",{parentName:"p",href:"/nodes/basic-elements/text"},"Text Node")," where the data contained in the QR Code will be displayed."),(0,o.kt)("div",{className:"ndl-image-with-background l"},(0,o.kt)("img",{src:(0,i.Z)("/library/modules/qr-scanner/guides/camera-feed/qr-camera-feed.png"),className:"ndl-image large"}),(0,o.kt)(r.Z,{zip:"/library/modules/qr-scanner/guides/camera-feed/qr-camera-feed.zip",name:"Camera QR Scanner",thumb:"/library/modules/qr-scanner/qr_noodlnet.png",mdxType:"ImportButton"})),(0,o.kt)("p",null,"It is also possible to connect the ",(0,o.kt)("span",{className:"ndl-data"},"Scan Result")," directly to a ",(0,o.kt)("strong",{parentName:"p"},"Text")," node, but by doing it the way above we ensure that the data in the ",(0,o.kt)("strong",{parentName:"p"},"Text")," node does not disappear after the QR Code is out of view again."),(0,o.kt)("h2",{id:"flipping-the-camera"},"Flipping the camera"),(0,o.kt)("p",null,"Also displayed in the example above is the possibility to flip the camera via the ",(0,o.kt)("span",{className:"ndl-data"},"Front Facing")," boolean of the ",(0,o.kt)("strong",{parentName:"p"},"Camera QR Scanner")," node. On mobile devices that have both front- and back-facing cameras these are the cameras you can switch between \u2014 in this example this is achieved via a ",(0,o.kt)("a",{parentName:"p",href:"/nodes/logic/switch"},"Switch")," node that is toggled with a ",(0,o.kt)("a",{parentName:"p",href:"/nodes/ui-controls/button"},"Button Node"),". If you are working on a desktop device via e.g. a webcam, this function might only flip the camera feed itself since there are rarely both front- and back-facing cameras on such devices."),(0,o.kt)("h2",{id:"displaying-the-camera-feed"},"Displaying the camera feed"),(0,o.kt)("p",null,"Since we are using a ",(0,o.kt)("strong",{parentName:"p"},"Video")," node to display the camera feed, you might want to make adjustments to how the feed is being displayed. Typically you would want to use the display option ",(0,o.kt)("em",{parentName:"p"},"Cover")," in the ",(0,o.kt)("strong",{parentName:"p"},"Video")," node\u2019s properties. You can read more about the ",(0,o.kt)("strong",{parentName:"p"},"Video")," node and its different kinds of properties ",(0,o.kt)("a",{parentName:"p",href:"/nodes/basic-elements/video"},"here"),". Likewise it might be a good idea to set a maximum width and height for the video feed itself, either directly in the node itself or via a parent ",(0,o.kt)("strong",{parentName:"p"},"Group"),"."),(0,o.kt)("h2",{id:"no-camera-stream-in-viewer-http-vs-https"},"No camera stream in viewer? HTTP vs. HTTPS"),(0,o.kt)("p",null,"For security reasons, the camera feed can generally only be accessed through a secure connection, i.e. an URL beginning with ",(0,o.kt)("code",null,"https://"),", and not ",(0,o.kt)("code",null,"http://"),". This means that on some platforms (depending on OS and browser) the camera feed of the ",(0,o.kt)("strong",{parentName:"p"},"Camera QR Scanner")," will not work inside of the Noodl viewer. Furthermore, connecting to http://localhost:8574/ might have the same issue. However, on some platforms localhost is exempted from the rule and the camera works without problems in the viewer.\nIf you run into this problem you will have to deploy to a secure server via ",(0,o.kt)("code",null,"https://"),". The easiest way to do that is to use the ",(0,o.kt)("a",{parentName:"p",href:"/docs/guides/deploy/deploying-an-app-on-sandbox"},"Noodl Sandbox Deploy")," which uses ",(0,o.kt)("code",null,"https://")," protocols."))}h.isMDXComponent=!0},17213:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(67294),o=a(39671);function r(e){let{zip:t,name:a,thumb:r,cf:i}=e;return n.createElement("button",{className:"ndl-import-button",onClick:()=>(0,o.I)(t,{name:a,thumb:r,cf:i})})}},39671:(e,t,a)=>{a.d(t,{I:()=>o});var n=a(36809);function o(e,t){let a=[];t&&void 0!==t.name&&a.push("name="+encodeURIComponent(t.name)),t&&void 0!==t.thumb&&a.push("thumb="+encodeURIComponent(location.protocol+"//"+location.host+n.default.baseUrl+t.thumb)),t&&void 0!==t.cf&&a.push("cf="+encodeURIComponent(location.protocol+"//"+location.host+n.default.baseUrl+"/"+t.cf));var o="noodl:import/"+location.protocol+"//"+location.host+n.default.baseUrl+e+(a.length>0?"?"+a.join("&"):"");console.log("Importing into Noodl:",o),console.log(e),window.location.href=o}}}]);
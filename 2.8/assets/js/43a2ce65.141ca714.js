"use strict";(self.webpackChunknoodl_docs=self.webpackChunknoodl_docs||[]).push([[5283],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return h}});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=n.createContext({}),l=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=l(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,c=p(e,["components","mdxType","originalType","parentName"]),d=l(a),h=o,m=d["".concat(s,".").concat(h)]||d[h]||u[h]||r;return a?n.createElement(m,i(i({ref:t},c),{},{components:a})):n.createElement(m,i({ref:t},c))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=d;var p={};for(var s in t)hasOwnProperty.call(t,s)&&(p[s]=t[s]);p.originalType=e,p.mdxType="string"==typeof e?e:o,i[1]=p;for(var l=2;l<r;l++)i[l]=a[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},55967:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return s},metadata:function(){return c},toc:function(){return d}});var n=a(83117),o=a(80102),r=(a(67294),a(3905)),i=a(17213),p=["components"],s={title:"Weavy Integration",hide_title:!0},l="Using Weavy with Noodl",c={unversionedId:"examples/weavy-integration",id:"examples/weavy-integration",title:"Weavy Integration",description:"Weavy is a service that lets you add collaboration features to your app. Chat, feeds and file sharing/editing can be integrated in a fraction of the time it would take to build it from scratch. This template sets up all the user management, authentication and Weavy app registration you need to get started quickly.",source:"@site/library/examples/weavy-integration.mdx",sourceDirName:"examples",slug:"/examples/weavy-integration",permalink:"/2.8/library/examples/weavy-integration",tags:[],version:"current",frontMatter:{title:"Weavy Integration",hide_title:!0},sidebar:"librarySidebar",previous:{title:"Localization Example (i18next)",permalink:"/2.8/library/examples/localization"}},u={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setting up the backend",id:"setting-up-the-backend",level:2},{value:"The template structure",id:"the-template-structure",level:2},{value:"Creating a Weavy app",id:"creating-a-weavy-app",level:2},{value:"Modifying the <em>Weavy App</em> component",id:"modifying-the-weavy-app-component",level:2}],h={toc:d};function m(e){var t=e.components,s=(0,o.Z)(e,p);return(0,r.kt)("wrapper",(0,n.Z)({},h,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"using-weavy-with-noodl"},"Using Weavy with Noodl"),(0,r.kt)("p",null,"Weavy is a service that lets you add collaboration features to your app. Chat, feeds and file sharing/editing can be integrated in a fraction of the time it would take to build it from scratch. This template sets up all the user management, authentication and Weavy app registration you need to get started quickly."),(0,r.kt)("div",{className:"ndl-image-with-background m"},(0,r.kt)("p",null,(0,r.kt)("img",{src:a(51420).Z,width:"1429",height:"912"})),(0,r.kt)(i.Z,{zip:"/library/examples/weavy-integration/weavy-template-2.zip",cf:"/library/examples/weavy-integration/weavy-template-cf.json",name:"Weavy Template",thumb:"/library/examples/weavy-integration/weavy-thumb.png",mdxType:"ImportButton"})),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"In order to connect to Weavy, you need a Weavy account with an API key and an Environment URL. If you don't have that already ",(0,r.kt)("a",{parentName:"p",href:"https://www.weavy.com/docs/learn/weavy-account"},"here's a handy guide"),"."),(0,r.kt)("h2",{id:"setting-up-the-backend"},"Setting up the backend"),(0,r.kt)("p",null,"When you have the API key and Environment URL you need to add them to the ",(0,r.kt)("strong",{parentName:"p"},"Config")," paramters in the Noodl Cloud Service. If you haven't already imported the project template in the thumbnail above, now is the perfect time to do it."),(0,r.kt)("p",null,"With your newly created project open, click the ",(0,r.kt)("strong",{parentName:"p"},"Cloud Services")," tab in the sidebar, and find the Weavy related cloud service that has been created."),(0,r.kt)("div",{className:"ndl-image-with-background "},(0,r.kt)("p",null,(0,r.kt)("img",{src:a(43678).Z,width:"690",height:"658"}))),(0,r.kt)("p",null,"Make sure to click the ",(0,r.kt)("strong",{parentName:"p"},"Use in editor")," button if it isn't already in use. Then click ",(0,r.kt)("strong",{parentName:"p"},"Open dashboard"),"."),(0,r.kt)("p",null,"Navigate to the ",(0,r.kt)("strong",{parentName:"p"},"Config")," tab in the dashboard. Click the ",(0,r.kt)("strong",{parentName:"p"},"Create a parameter")," button to create two parameters named ",(0,r.kt)("inlineCode",{parentName:"p"},"WeavyAPIKey")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"WeavyEnvUrl"),"."),(0,r.kt)("div",{className:"ndl-image-with-background l"},(0,r.kt)("p",null,(0,r.kt)("img",{src:a(16851).Z,width:"1100",height:"980"})),(0,r.kt)("p",null,(0,r.kt)("img",{src:a(46209).Z,width:"1106",height:"976"}))),(0,r.kt)("p",null,"These are case sensitive, so make sure to double check that. Also take an extra look at the ",(0,r.kt)("inlineCode",{parentName:"p"},"Type")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Requires master key"),"."),(0,r.kt)("p",null,"When this is done, you should have everything you need to get going."),(0,r.kt)("h2",{id:"the-template-structure"},"The template structure"),(0,r.kt)("p",null,"The template has two routers, one for the pages that can be accessed by logged out users, and one for the pages that can be accessed when a user has logged in."),(0,r.kt)("div",{className:"ndl-image-with-background l"},(0,r.kt)("p",null,(0,r.kt)("img",{src:a(79822).Z,width:"1264",height:"704"}))),(0,r.kt)("p",null,"To be able to use the Weavy apps a user needs to have an account and be logged in. For this there are two pages, called ",(0,r.kt)("strong",{parentName:"p"},"Signup")," and ",(0,r.kt)("strong",{parentName:"p"},"Login"),". You can find all the pages in the ",(0,r.kt)("strong",{parentName:"p"},"Components Panel"),"."),(0,r.kt)("div",{className:"ndl-image-with-background"},(0,r.kt)("p",null,(0,r.kt)("img",{src:a(62060).Z,width:"408",height:"642"}))),(0,r.kt)("h2",{id:"creating-a-weavy-app"},"Creating a Weavy app"),(0,r.kt)("p",null,"There are three unstyled example pages when logged in. ",(0,r.kt)("strong",{parentName:"p"},"Chat"),", ",(0,r.kt)("strong",{parentName:"p"},"Files")," and ",(0,r.kt)("strong",{parentName:"p"},"Posts"),", that use the respective Weavy apps ",(0,r.kt)("strong",{parentName:"p"},"Chat"),", ",(0,r.kt)("strong",{parentName:"p"},"Files")," and ",(0,r.kt)("strong",{parentName:"p"},"Posts"),". They all contain a basic page layout, but most importantly they feature the ",(0,r.kt)("strong",{parentName:"p"},"Weavy App")," component."),(0,r.kt)("div",{className:"ndl-image-with-background l"},(0,r.kt)("p",null,(0,r.kt)("img",{src:a(359).Z,width:"1074",height:"650"}))),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"Weavy App")," component has two purposes - registering a Weavy app in the Weavy environment (if it hasn't already been registered), and rendering it. It has 3 settings out of the box:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"UID"),": This is the unique ID of the app you want to register."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Type"),": The type of Weavy app you want to use."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Height"),": The height you want the Weavy app to render in.")),(0,r.kt)("p",null,"You can pick any string for the UID, but it cannot have any spaces and must contain at least one non-digit character."),(0,r.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"If you created a ",(0,r.kt)("strong",{parentName:"p"},"Weavy App")," with a new UID and it doesn't show up on the page, it might be because the Weavy app has not been regisetered yet. This will be the case the first time you run the template app as well.",(0,r.kt)("br",null),(0,r.kt)("br",null)),(0,r.kt)("p",{parentName:"div"},"To solve this, try reloading the page that the ",(0,r.kt)("strong",{parentName:"p"},"Weavy App")," component resides in. This will send a request to the Weavy server to register a new app with your new UID.",(0,r.kt)("br",null),(0,r.kt)("br",null)),(0,r.kt)("p",{parentName:"div"},"The app registration only has to be done once, so this issue will only show up during development."))),(0,r.kt)("p",null,"If you change the ",(0,r.kt)("strong",{parentName:"p"},"Type")," of your Weavy App you will also have to give it a new ",(0,r.kt)("strong",{parentName:"p"},"UID")," for the registration to work properly."),(0,r.kt)("h2",{id:"modifying-the-weavy-app-component"},"Modifying the ",(0,r.kt)("em",{parentName:"h2"},"Weavy App")," component"),(0,r.kt)("p",null,"While you can use the ",(0,r.kt)("strong",{parentName:"p"},"Weavy App")," component as is, you will probably want to modify it and make it your own. The best way to do this is to duplicate the component and edit the ",(0,r.kt)("strong",{parentName:"p"},"Script")," node inside of it."),(0,r.kt)("p",null,"This way you can have multiple Weavy apps working differently, and always have a clean backup of the integration."),(0,r.kt)("div",{className:"ndl-image-with-background"},(0,r.kt)("p",null,(0,r.kt)("img",{src:a(87961).Z,width:"812",height:"704"}))),(0,r.kt)("p",null,"You can read more about customizing Weavy ",(0,r.kt)("a",{parentName:"p",href:"https://www.weavy.com/docs/reference/uikit-js"},"here"),"."))}m.isMDXComponent=!0},17213:function(e,t,a){a.d(t,{Z:function(){return r}});var n=a(67294),o=a(39671);function r(e){var t=e.zip,a=e.name,r=e.thumb,i=e.cf;return n.createElement("button",{className:"ndl-import-button",onClick:function(){return(0,o.I)(t,{name:a,thumb:r,cf:i})}})}},39671:function(e,t,a){a.d(t,{I:function(){return o}});var n=a(99782);function o(e,t){var a=[];t&&void 0!==t.name&&a.push("name="+encodeURIComponent(t.name)),t&&void 0!==t.thumb&&a.push("thumb="+encodeURIComponent(location.protocol+"//"+location.host+n.default.baseUrl+t.thumb)),t&&void 0!==t.cf&&a.push("cf="+encodeURIComponent(location.protocol+"//"+location.host+n.default.baseUrl+"/"+t.cf));var o="noodl:import/"+location.protocol+"//"+location.host+n.default.baseUrl+e+(a.length>0?"?"+a.join("&"):"");console.log("Importing into Noodl:",o),console.log(e),window.location.href=o}},62060:function(e,t,a){t.Z=a.p+"assets/images/components-panel-e460c5b0f64b84afaf2611ba6307bb6f.png"},87961:function(e,t,a){t.Z=a.p+"assets/images/duplicate-node-a7e4312d27c20b4d2d7bb904e7c917a9.png"},16851:function(e,t,a){t.Z=a.p+"assets/images/weavy-api-f6bf110cd7dfd527b7de15acb95374ae.png"},359:function(e,t,a){t.Z=a.p+"assets/images/weavy-app-847ccae92b3e6fb66a1a45eaee064bfb.png"},43678:function(e,t,a){t.Z=a.p+"assets/images/weavy-cloud-service-d76b07b008ec7790ba2144acffee64d5.png"},79822:function(e,t,a){t.Z=a.p+"assets/images/weavy-graph-d6c28cb8acaee3f4c9eb6ec1881d281e.png"},51420:function(e,t,a){t.Z=a.p+"assets/images/weavy-thumb-4e4d12731303ce44fd3b181c9e88431a.png"},46209:function(e,t,a){t.Z=a.p+"assets/images/weavy-url-46897ccdb92ac4c5c6810237c3fd0d63.png"}}]);
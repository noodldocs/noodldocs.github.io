"use strict";(self.webpackChunknoodl_docs=self.webpackChunknoodl_docs||[]).push([[1844],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return g}});var o=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,i=function(e,t){if(null==e)return{};var n,o,i={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=o.createContext({}),u=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},c=function(e){var t=u(e.components);return o.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=u(n),g=i,h=p["".concat(l,".").concat(g)]||p[g]||d[g]||a;return n?o.createElement(h,r(r({ref:t},c),{},{components:n})):o.createElement(h,r({ref:t},c))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,r=new Array(a);r[0]=p;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var u=2;u<a;u++)r[u]=n[u];return o.createElement.apply(null,r)}return o.createElement.apply(null,n)}p.displayName="MDXCreateElement"},85779:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return l},default:function(){return g},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return d}});var o=n(83117),i=n(80102),a=(n(67294),n(3905)),r=["components"],s={title:"Introduction to Cloud Functions",hide_title:!0},l="Introduction to Cloud Functions",u={unversionedId:"guides/cloud-logic/introduction",id:"guides/cloud-logic/introduction",title:"Introduction to Cloud Functions",description:"Cloud Functions in Noodl is a way to create logic that run in the cloud using the same techniques that you use when building business logic in your frontend, namely connecting logic and action nodes into flows, injecting Javascript where needed.",source:"@site/docs/guides/cloud-logic/introduction.md",sourceDirName:"guides/cloud-logic",slug:"/guides/cloud-logic/introduction",permalink:"/2.8/docs/guides/cloud-logic/introduction",tags:[],version:"current",frontMatter:{title:"Introduction to Cloud Functions",hide_title:!0},sidebar:"docsSidebar",previous:{title:"Creating users in Noodl",permalink:"/2.8/docs/guides/user-management/creating-users-in-noodl"},next:{title:"Emal Verification",permalink:"/2.8/docs/guides/cloud-logic/email-verification"}},c={},d=[{value:"Anatomy of a cloud function",id:"anatomy-of-a-cloud-function",level:2},{value:"Calling cloud functions",id:"calling-cloud-functions",level:2},{value:"Deploying",id:"deploying",level:2}],p={toc:d};function g(e){var t=e.components,s=(0,i.Z)(e,r);return(0,a.kt)("wrapper",(0,o.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"introduction-to-cloud-functions"},"Introduction to Cloud Functions"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Cloud Functions")," in Noodl is a way to create logic that run in the cloud using the same techniques that you use when building business logic in your frontend, namely connecting logic and action nodes into flows, injecting Javascript where needed."),(0,a.kt)("p",null,"A ",(0,a.kt)("strong",{parentName:"p"},"Cloud Function")," is just another component in your project, but they don't live among the frontend components. Instead you find them in the ",(0,a.kt)("strong",{parentName:"p"},"Cloud Functions")," tab."),(0,a.kt)("div",{className:"ndl-image-with-background l"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(83460).Z,width:"830",height:"428"}))),(0,a.kt)("p",null,"You create a new ",(0,a.kt)("strong",{parentName:"p"},"Cloud Function")," component by clicking the ",(0,a.kt)("strong",{parentName:"p"},"+")," icon in the sidebar and selection ",(0,a.kt)("strong",{parentName:"p"},"Cloud Component Function"),"."),(0,a.kt)("div",{className:"ndl-image-with-background l"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(31837).Z,width:"1078",height:"372"}))),(0,a.kt)("p",null,"You give the cloud function a name and click ",(0,a.kt)("strong",{parentName:"p"},"Create"),"."),(0,a.kt)("div",{className:"ndl-image-with-background l"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(80033).Z,width:"914",height:"364"}))),(0,a.kt)("p",null,"You can also create ",(0,a.kt)("strong",{parentName:"p"},"Folders")," and ",(0,a.kt)("strong",{parentName:"p"},"Logic Components")," just like you do on the frontend to keep things organised and to seperate functionality into reusable logic components."),(0,a.kt)("h2",{id:"anatomy-of-a-cloud-function"},"Anatomy of a cloud function"),(0,a.kt)("p",null,"When you create a new ",(0,a.kt)("strong",{parentName:"p"},"Cloud Function")," you will end up with two nodes that are the backbone, the ",(0,a.kt)("a",{parentName:"p",href:"/nodes/cloud-functions/request"},"Request")," and the ",(0,a.kt)("a",{parentName:"p",href:"/nodes/cloud-functions/response"},"Response")," nodes."),(0,a.kt)("div",{className:"ndl-image-with-background l"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(86283).Z,width:"1112",height:"294"}))),(0,a.kt)("p",null,"First let's look closer at the ",(0,a.kt)("strong",{parentName:"p"},"Request")," node. When a cloud function is called from the client this is where the logic flow starts."),(0,a.kt)("div",{className:"ndl-image-with-background xl"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(73965).Z,width:"1726",height:"536"}))),(0,a.kt)("p",null,"The logic flow is initiated by the ",(0,a.kt)("span",{class:"ndl-signal"},"Received")," signal. So the first actions that you want the cloud function to perform should be connected to this signal. There are also a couple of important properties on the ",(0,a.kt)("strong",{parentName:"p"},"Request")," node that we should look at:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Allow unauthenticated"),". This is an important property, by default all cloud functions need the user to be logged in to be accessible. But if you for some reason want the function to be callable without a user you can check this property. You must be careful since all cloud functions have full access to your database and can do things that might be limited in the client for security reasons."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Parameters"),". Here you add the parameters for your cloud function, these will become outputs on the ",(0,a.kt)("strong",{parentName:"p"},"Request")," node and inputs on the ",(0,a.kt)("strong",{parentName:"p"},"Cloud Function")," node in the frontend that you use to call your functions."),(0,a.kt)("p",null,"In the very simple example above we use the ",(0,a.kt)("strong",{parentName:"p"},"Set User Properties")," node to set the password of a user, this obviously needs a logged in user (otherwise the ",(0,a.kt)("strong",{parentName:"p"},"Set User Properties")," node wont work), we accept the new password as a parameter and trigger the action node on the ",(0,a.kt)("strong",{parentName:"p"},"Received")," signal."),(0,a.kt)("p",null,"When a ",(0,a.kt)("strong",{parentName:"p"},"Cloud Function")," completes it needs to either succeed or fail, this is done using the second important cloud function node, namely the ",(0,a.kt)("strong",{parentName:"p"},"Response")," node."),(0,a.kt)("div",{className:"ndl-image-with-background xl"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(23243).Z,width:"1860",height:"634"}))),(0,a.kt)("p",null,"When the function completes you should send a ",(0,a.kt)("strong",{parentName:"p"},"Send")," signal on the ",(0,a.kt)("strong",{parentName:"p"},"Response")," node. By default this will result in a successful completion of the function with no result parameters. If you need to send a failure you can change the ",(0,a.kt)("strong",{parentName:"p"},"Status")," property to ",(0,a.kt)("strong",{parentName:"p"},"Failure")," and provide an error message."),(0,a.kt)("p",null,"If you need to return a result to the client you specify result ",(0,a.kt)("strong",{parentName:"p"},"Parameters")," in the properties of the ",(0,a.kt)("strong",{parentName:"p"},"Response")," node and make appropriate connections."),(0,a.kt)("div",{className:"ndl-image-with-background xl"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(17797).Z,width:"1802",height:"540"}))),(0,a.kt)("h2",{id:"calling-cloud-functions"},"Calling cloud functions"),(0,a.kt)("p",null,"When your ",(0,a.kt)("strong",{parentName:"p"},"Cloud Function")," is in place you will need to call it from your frontend, this is done using the ",(0,a.kt)("a",{parentName:"p",href:"/nodes/data/cloud-data/cloud-function"},"Cloud Function")," node. First you need to pick the cloud function that you want to call using the dropdown in the node properties."),(0,a.kt)("div",{className:"ndl-image-with-background l"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(96942).Z,width:"760",height:"204"}))),(0,a.kt)("p",null,"Then you can hook up the node. You call the function by sending a signal to the ",(0,a.kt)("span",{class:"ndl-signal"},"Call")," signal input. "),(0,a.kt)("div",{className:"ndl-image-with-background xl"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(30681).Z,width:"1578",height:"648"}))),(0,a.kt)("p",null,"If you have any parameters in your ",(0,a.kt)("strong",{parentName:"p"},"Request")," node of the selected cloud function then they will show up on the ",(0,a.kt)("strong",{parentName:"p"},"Cloud Function")," node as inputs, same for result parameters in the ",(0,a.kt)("strong",{parentName:"p"},"Repsonse")," nodes."),(0,a.kt)("p",null,"When your cloud function has completed running it will result in either a ",(0,a.kt)("span",{class:"ndl-signal"},"Success")," or ",(0,a.kt)("span",{class:"ndl-signal"},"Failure")," signal."),(0,a.kt)("h2",{id:"deploying"},"Deploying"),(0,a.kt)("p",null,"This is the basics of cloud function, keep reading the guides in this section to learn more about the details and different use cases. Finally you will want to deploy your application, and for the cloud functions to work properly you need to make sure you have a cloud services selected when deploying."),(0,a.kt)("div",{className:"ndl-image-with-background l"},(0,a.kt)("p",null,(0,a.kt)("img",{src:n(27708).Z,width:"850",height:"890"}))))}g.isMDXComponent=!0},96942:function(e,t,n){t.Z=n.p+"assets/images/cloud-function-call-props-ad57c0112f376681f4b1093daee4aeb3.png"},30681:function(e,t,n){t.Z=n.p+"assets/images/cloud-function-call-abee9e3b2f3459d031e01adf45e852d3.png"},86283:function(e,t,n){t.Z=n.p+"assets/images/cloud-function-empty-92d19d9d2824293201034f256e9960d3.png"},80033:function(e,t,n){t.Z=n.p+"assets/images/cloud-function-name-de62156a86f0d4016a9a7ed7ab37928e.png"},73965:function(e,t,n){t.Z=n.p+"assets/images/cloud-function-request-4239a9920966906c3f2d309b9f720b53.png"},23243:function(e,t,n){t.Z=n.p+"assets/images/cloud-function-response-3654fa205a79d7bcb5815951a4347777.png"},17797:function(e,t,n){t.Z=n.p+"assets/images/cloud-function-results-0069f7a528de7b94eb681199d134451d.png"},27708:function(e,t,n){t.Z=n.p+"assets/images/cloud-functions-deploy-5dea0d34bd1341d867fb25d129cefac3.png"},83460:function(e,t,n){t.Z=n.p+"assets/images/cloud-functions-tab-e4a54e10f69c162ee112b2f74080d818.png"},31837:function(e,t,n){t.Z=n.p+"assets/images/new-cloud-function-39ca857fb6fb6db0835a6b27e302d2e2.png"}}]);
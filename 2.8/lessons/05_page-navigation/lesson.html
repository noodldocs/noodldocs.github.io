<!-- A step with just a popup -->
<div data-template="popup"> 
    <video src="lesson-05_00-intro.mp4"></video>
    <h2>Page Navigation</h2>
    <p>Welcome back! In this fifth lesson you will learn how to work with page navigation and how to pass data between pages.</p>
    <p>Last time you built a UI with clickable <i>Card Item</i>s. Let's make them navigate to a dedicated details page.</p>
</div>
<!-- # -->


<!-- Talk about lists -->
<div> 
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Key elements of a navigation system</h2>
    </div>
    <div data-template="popup">
        <video src="lesson-05_01-keylements.mp4"></video>
        <h2>Key elements of a navigation system</h2>
        <p>All Noodl projects start with a simple navigation system in place. In the previous lessons we briefly touched on some basic navigation between existing pages. Let's dive deeper, take a step back and look at the three key elements for working with navigation in Noodl:</p>
        <ol>
            <li><p>Multiple <b>page components</b> that each contain a page of you app. In this project you already have a <i>Task Page</i> and a <i>Start Page</i>.</p></li>
            <li><p>A <b>Page Router</b> node, that works as a container that controls which page component to show. This node is often placed in the <i>App</i> component.</p></li>
            <li><p>A <b>Navigate</b> node that lets you navigate from one page to another.</p></li>
        </ol>
    </div>
</div>
<!-- # -->


<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Page Router node</h2>
    </div>
    <div data-template="popup">
        <video src="lesson-05_01-keylements.mp4"></video>
        <h2>Page Router node</h2>
        <p>The <strong>Page Router</strong> node is a visual node that acts as a container for pages. Any page you navigate to will be rendered inside the Page Router and fill out all the space available.</p>
        <p>In a node graph the Page Router usually lives in between a <i>header</i> and a <i>footer</i> component. This way the header and footer don't need to be inserted (and rerendered) in every page.</p>
        <p>If we select the Page Router we can see all the pages that are part of it, and we can also set which page we want to act as the start page.</p>
    </div>
</div>
<!-- # -->

<!-- # -->
<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Creating pages</h2>
    </div>
    <div data-template="popup">
        <video src="lesson-05_04-creating pages.mp4"></video>
        <h2>Creating pages</h2>
        <p>When we add a new page component it automatically gets added to the Page Router. A quick way to add a new page is by <strong>clicking</strong> the <i>plus</i> icon in the Component Panel and pick <i>page component</i>.</p> 
        <p>It's about time you try this for yourself!</p>
    </div>
</div>
<!-- # -->

<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/App:%Group:%Router", 
            "paramseq": {
                "pages": {
                  "routes": ["/Start Page","/Task Page","/Details Page"]
                }
            }
        }
    ]'
>
    <div data-template="item" style="width: 350px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Create a new page called <i>Details Page</i></h3>
    </div>
    <div data-template="popup">
        <video src="lesson-05_04-creating pages.mp4"></video>
        <p>Open the Component Panel, <strong>click</strong> the <i>plus</i> icon and pick <i>page component</i>. Page names are case sensitive, so make sure to call it <strong><i>Details Page</i></strong>.></p>
    </div>
</div>
<!-- # -->

<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "viewerpatheq":"/details-page"
        }
    ]'
>
    <div data-template="item" style="width: 280px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Select the <strong><i>/details-page</i></strong> path in the Path Dropdown</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_05-select details page.mp4"></video>
        <p>You can find the Path Dropdown in the Topbar</p>
    </div>
</div>
<!-- # -->


<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Page components</h2>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_04-pagescomponent.mp4"></video>
        <h2>The Page component</h2>
        <p>Every page component comes with a Page node, and a Page Inputs node. All children to the page node gets rendered on the page.</p>
        <P>With the Page Inputs node, we can create Path and Query Inputs. These are ways to send data into a page when we navigate to it and encode the data as part of the pages url. We will work more with this in this lesson, but first lets get a simple interface on this page.</P>
    </div>
</div>
<!-- # -->


<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>We prepared a bit from home</h2>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_07-copy-page-content.mp4"></video>
        <h2>We prepared a bit from home</h2>
        <p>To keep this lesson within a reasonable length of time we have added a component to the project containing a simple UI for our newly created Details Page.</p>
        <p>You can go the Details Page Content component and copy all the nodes and paste them into the Details page as children to the Page node.</p>
    </div>
</div>
<!-- # -->

<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
data-conditions='[
    {
        "path":"/Details Page:%Page:#Page Content", 
        "exists": true
    }
]'
>
    <div data-template="item" style="width: 460px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Copy all the nodes from the Details page content component, and paste them under the page node in the Details Page.</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_07-copy-page-content.mp4"></video>
        <p>Copy all the nodes from the Details page content component, and paste them under the page node in the Details Page.</p>
    </div>
</div>
<!-- # -->

<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Page Inputs</h2>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_08-add-taskid.mp4"></video>
        <h2>Page Inputs</h2>
        <p>Every page comes with a Page Inputs node, that similar to components Inputs, allows us to create parameters that we can use to send data into a page when we navigate to it.</p>
        <p>We can create two different types of parameters: Query parameters and Path parameters. In this lesson we will be using the Path parameter</p>
        <P>In this way we can use the same page and dynamically change the content on the page from the data we get from the path parameters. The data that we send in as a Path parameter will also be part of the page's url.</P>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Details Page:%PageInputs",
            "paramseq": {
                "pathParams":"Task id"    
            }
        }
    ]'
>
    <div data-template="item" style="width: 280px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>On the Page Input node, Create a path parameter called <i>Task id</i></h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_08-add-taskid.mp4"></video>
        <p>On the Page Input node, Create a path parameter called task id</p>
    </div>
</div>
<!-- # -->

<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Details Page:%Model2",
            "exists":true
        }
    ]'
>
    <div data-template="item" style="width: 280px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>In the Details Page, Create an Object node</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_09-add-objectnode.mp4"></video>
        <p>On the Page Input node, Create a path parameter called task id</p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "from":"/Details Page:%PageInputs",
            "to":"/Details Page:%Model2",
            "hasconnection":"pm-Task id, modelId"
        }
    ]'
>
    <div data-template="item" style="width: 340px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the Task id output from the Page input node to the Id input on the Object node</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_10-connect-to-object.mp4"></video>
        <p>On the Page Input node, Create a path parameter called task id</p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Task Page:%Model2",
            "exists":false
        }
    ]'
>
    <div data-template="item" style="width: 240px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Go back to the Task page and delete the Object node</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_11-delete-object.mp4"></video>
        <p>On the Page Input node, Create a path parameter called task id</p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Task Page:%RouterNavigate", 
            "exists": true
        }
    ]'
>
    <div data-template="item" style="width: 280px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Open the Node picker and place a Navigate node in the Task page</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_12-place-navigatenode.mp4"></video>
        <p>Open the Node picker and place a Navigate node in the Task page</p>
    </div>
</div>
<!-- # -->

<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "path":"/Task Page:%RouterNavigate", 
            "paramseq": {
                "target":"/Details page"
                }
        }
    ]'
>
    <div data-template="item" style="width: 280px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Set the Target Page property of the navigate node to "Details Page"</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_12-place-navigatenode.mp4"></video>
        <p>Set the Target Page property of the navigate node to "Details Page"</p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "from": "/Task Page:%Page:%Group:%Group:%For Each",
            "to":"/Task Page:%RouterNavigate", 
            "hasconnection": "itemOutputSignal-Clicked, navigate"
        }
    ]'
>
    <div data-template="item" style="width: 340px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the clicked event from the repeater to the navigate input on the Navigate node</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_13-connect-from-repeater.mp4"></video>
        <p>Connect the clicked event from the repeater to the navigate input on the Navigate node</p>
    </div>
</div>
<!-- # -->





<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "from":"/Task Page:%Page:%Group:%Group:%For Each",
            "to":"/Task Page:%RouterNavigate",
            "hasconnection" : "itemActionItemId, pm-Task id"
        }
    ]'
>
    <div data-template="item" style="width: 340px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the Item id from the Repeater node to the Task id on the navigate node</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_13-connect-from-repeater.mp4"></video>
        <p>On the Page Input node, Create a path parameter called task id</p>
    </div>
</div>
<!-- # -->


<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Object Id as a page parameter</h2>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_14-objectid-pageinput.mp4"></video>
        <h2>Object Id as a page parameter</h2>
        <p>We now have a navigation system that allows us to click on a card, get it's underlying object id, and parse it as a path parameter when we navigate to the Details Page.</p>
        <p>This makes it easy for us to access all the data via the object on the Details page. And based on which card we click,  </p>
        <p>In the Details Page, let's create the properties on the Object node so we can connect the data to our UI.</p>
    </div>
</div>
<!-- # -->



<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Object properties</h2>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_15-objectid-properties.mp4"></video>
        <h2>Object properties</h2>
        <p>When we have a valid id set on a object node, we can see all the available data when we inspect node. However, to make it available as outputs, we need to manually create them as parameters by matching the names.</p>
    </div>
</div>
<!-- # -->

<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div
    data-conditions='[
        {
            "path":"/Details page:%Model2", 
            "paramseq":{
                "properties":"Image,Background Color,Title,Category,Date"
            }
        }
    ]'
>
    <div data-template="item" style="width: 450px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>In the Details Page, add the following properties to the object node: <i>Image</i>, <i>Background Color</i>, <i>Title</i>, <i>Category</i>, <i>Date</i> </h3>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_15-objectid-properties.mp4"></video>
        <p></p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div
    data-conditions='[
        {
            "from": "/Details Page:%Model2",
            "to": "/Details Page:%Page:%Group:#Hero section",
            "hasconnection": "prop-Background Color, backgroundColor"
        }
    ]'
>
    <div data-template="item" style="width: 500px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the Background Color property of the Object node, to the background color input of the <B>Hero section</B> group</h3>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_16-bgcolor.mp4"></video>
        <p></p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div
    data-conditions='[
        {
            "from": "/Details Page:%Model2",
            "to": "/Details Page:%Page:%Group:#Hero section:%Image",
            "hasconnection": "prop-Image,src"
        }
    ]'
>
    <div data-template="item" style="width: 400px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the Image property of the Object node, to the source input of the Image node</h3>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_16-image.mp4"></video>
        <p></p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div
    data-conditions='[
        {
            "from": "/Details Page:%Model2",
            "to": "/Details Page:%Page:%Group:#Page body:#Title",
            "hasconnection": "prop-Title,text"
        }
    ]'
>
    <div data-template="item" style="width: 400px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the Title property of the Object node, to the text property of the Title text node</h3>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_16-title.mp4"></video>
        <p></p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div
    data-conditions='[
        {
            "from": "/Details Page:%Model2",
            "to": "/Details Page:%Page:%Group:#Page body:#Task Info:#Category:%Text",
            "hasconnection": "prop-Category,text"
        }
    ]'
>
    <div data-template="item" style="width: 400px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the <i>Category</i> property of the Object node, to the text property of the Category text node </h3>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
            <video src="lesson-05_16-category.mp4"></video>
        <p></p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div
    data-conditions='[
        {
            "from": "/Details Page:%Model2",
            "to": "/Details Page:%Page:%Group:#Page body:#Task Info:#Calender:%Text",
            "hasconnection": "prop-Date,text"
        }
    ]'
>
    <div data-template="item" style="width: 400px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the Date parameter of the Object node to the text property of the Calender text node</h3>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_16-date.mp4"></video>
        <p></p>
    </div>
</div>
<!-- # -->


<!-- Ask user to look at the static data -->
<div>
    <div data-template="item">
        <header>&nbsp;</header>
        <h2>Navigating back</h2>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_17-navigateback.mp4"></video>
        <h2>Navigating back</h2>
        <p>We can navigate to the details page when we click a card, but how do we navigate back again?</p>
        <p>First of all most browsers have controls to navigate back and forth. The Noodl editor have similar controls next to the path dropdown.</p>
        <p>We can also make an explicit way in our UI by using a navigate node again. Let's do that.</p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div
    data-conditions='[
    {
        "path":"/Details Page:%RouterNavigate", 
        "paramseq": {
            "target":"/Task page"
        }
    }
    ]'
>
    <div data-template="item" style="width: 320px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>In the Details page, add a Navigate node and set target page to Task Page.</h3>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_17-navigatenode.mp4"></video>
        <p></p>
    </div>
</div>
<!-- # -->



<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div
    data-conditions='[
    {
        "from": "/Details Page:%Page:#Page Content:#Page body:%net.noodl.controls.button",
        "to":"/Details Page:%RouterNavigate", 
        "hasconnection": "onClick, navigate"
    }
    ]'
>
    <div data-template="item" style="width: 400px">
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Connect the click event from the button node to the navigate input on the navigate node</h3>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_17-connectbutton.mp4"></video>
        <p></p>
    </div>
</div>
<!-- # -->


<!-- A step with an item in the bottom bar. It has tasks, so popup will only be shown when user clicks the item -->
<div
    data-conditions='[
        {
            "viewerpatheq":"/task-page"
        }
    ]'
>
    <div data-template="item" style="width: 280px">
        
        <header>Task<span class="lesson-checkmark"></span></header>
        <h3>Click the button to navigate back to the task page</h3>
    </div>

    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <video src="lesson-05_05-select details page.mp4"></video>
        <p>Click the button to navigate back to the task page</p>
    </div>
</div>
<!-- # -->



<!-- A step with an item in the bottom bar. No tasks, so popup will be shown automatically -->
<div>
    <div data-template="item">
        <header>Outro</header>
        <h2>Congratulations!</h2>
    </div>
    <div data-template="popup">
        <style>.lesson-item-popup {width: 600px !important;}</style>
        <!--<img src="tutorial_card.png" style="cursor: pointer;" onclick="window.open('https://www.youtube.com/watch?v=TNnn0Gzj-H4&list=PL2eC2vS4uVoMbujQ5CiNtNuP7s7-UwNn-')"> -->
        <h2>Congratulations!</h2>
        <p>You've completed fifth tutorial, we hope you got the gist of it!</p>
        <p>Feel free to try navigating back and forth too see the details page change content from each card.</p>
        <p>In the next tutorial we will learn how to create a form page to let the user create new Task items.</p>
        <p>Happy Noodling!</p>
        <!--<button style="width: 150px" onclick="window.open('https://www.youtube.com/watch?v=TNnn0Gzj-H4&list=PL2eC2vS4uVoMbujQ5CiNtNuP7s7-UwNn-')">WATCH TUTORIAL</button>-->
        <button style="width: 150px" data-click="exitEditor">EXIT LESSON</button>
    </div>
</div>
<!-- # -->
